/workspace# npm test

> ocra@1.0.0 test
> vitest run


 RUN  v3.2.4 /workspace

stdout | src/providers/spotHero/mock/SpotHeroMockProvider.unit.test.ts > SpotHero Service > Basic Functionality > should return locations for valid airport
ðŸ” SpotHero (Mock): Searching locations... {
  airport: 'LAX',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should extract bearer token from homepage
ðŸ” Getting bearer token...

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should extract bearer token from homepage
âœ… Bearer token extracted successfully

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should get venue data from autocomplete API
ðŸŒ Calling authenticated autocomplete API: https://api.parkwhiz.com/internal/v1/autocomplete/?term=LAX&results=6&country=us%2Cca&cohort=control

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should get venue data from autocomplete API
ðŸ“Š Autocomplete response: {
  "autocomplete": [
    {
      "id": "12",
      "result_type": "venue",
      "full_name": "LAX Airport",
      "short_name": "LAX Airport",
      "coordinates": [
        33.94240029061568,
        -118.40766429908399
      ],
      "slug": "/lax-airport-parking/",
      "city": "Los Angeles",
      "state": "CA",
      "country": "US"
    }
  ]
}
ðŸ” Found 1 airport results out of 1 total results

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should extract locations from HTML page
ðŸŒ Fetching HTML page: https://www.parkwhiz.com/lax-airport-parking/

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should extract locations from HTML page
JSON length: 2666
First 200 chars: {
  "locations": [
    {
      "location_id": "12345",
      "type": "offstreet", 
      "distance": {
        "straight_line": {
          "feet": 5280,
          "meters": 1609
        }
      },
  
Last 200 chars: ostal_code": "90045",
          "location_type": "lot",
          "entrances": [
            {
              "coordinates": [33.9401, -118.4065]
            }
          ]
        }
      }
    }
  ]
}
ðŸ“Š Extracted initial state with 2 locations

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should complete full workflow for LAX with mocked responses
ðŸ” ParkWhiz Real: Searching locations... { airport: 'LAX', dates: '2024-12-20T10:00:00 to 2024-12-20T18:00:00' }
ðŸŒ ParkWhiz Real: Getting locations for LAX...
ðŸ” Getting bearer token...

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should complete full workflow for LAX with mocked responses
âœ… Bearer token extracted successfully

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should complete full workflow for LAX with mocked responses
âœ… Bearer token obtained
ðŸŒ Calling authenticated autocomplete API: https://api.parkwhiz.com/internal/v1/autocomplete/?term=LAX&results=6&country=us%2Cca&cohort=control

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should complete full workflow for LAX with mocked responses
ðŸ“Š Autocomplete response: {
  "autocomplete": [
    {
      "id": "12",
      "result_type": "venue",
      "full_name": "LAX Airport",
      "short_name": "LAX Airport",
      "coordinates": [
        33.94240029061568,
        -118.40766429908399
      ],
      "slug": "/lax-airport-parking/",
      "city": "Los Angeles",
      "state": "CA",
      "country": "US"
    }
  ]
}
ðŸ” Found 1 airport results out of 1 total results

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should complete full workflow for LAX with mocked responses
ðŸ“ Found venue: LAX Airport with slug: /lax-airport-parking/
ðŸŒ Fetching HTML page: https://www.parkwhiz.com/lax-airport-parking/

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should complete full workflow for LAX with mocked responses
JSON length: 2666
First 200 chars: {
  "locations": [
    {
      "location_id": "12345",
      "type": "offstreet", 
      "distance": {
        "straight_line": {
          "feet": 5280,
          "meters": 1609
        }
      },
  
Last 200 chars: ostal_code": "90045",
          "location_type": "lot",
          "entrances": [
            {
              "coordinates": [33.9401, -118.4065]
            }
          ]
        }
      }
    }
  ]
}
ðŸ“Š Extracted initial state with 2 locations

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should complete full workflow for LAX with mocked responses
âœ… ParkWhiz Real: Retrieved 2 locations for LAX

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should complete full workflow for LAX with mocked responses
âœ… parkwhiz: Found 2 locations

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should complete full workflow for ORD with mocked responses
ðŸ” ParkWhiz Real: Searching locations... { airport: 'ORD', dates: '2024-12-20T10:00:00 to 2024-12-20T18:00:00' }
ðŸŒ ParkWhiz Real: Getting locations for ORD...
ðŸ” Getting bearer token...

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should complete full workflow for ORD with mocked responses
âœ… Bearer token extracted successfully

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should complete full workflow for ORD with mocked responses
âœ… Bearer token obtained
ðŸŒ Calling authenticated autocomplete API: https://api.parkwhiz.com/internal/v1/autocomplete/?term=ORD&results=6&country=us%2Cca&cohort=control

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should complete full workflow for ORD with mocked responses
ðŸ“Š Autocomplete response: {
  "autocomplete": [
    {
      "id": "11",
      "result_type": "venue",
      "full_name": "Chicago O'Hare Airport",
      "short_name": "O'Hare Airport",
      "coordinates": [
        41.9786,
        -87.9048
      ],
      "slug": "/ord-airport-parking/",
      "city": "Chicago",
      "state": "IL",
      "country": "US"
    }
  ]
}
ðŸ” Found 1 airport results out of 1 total results

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should complete full workflow for ORD with mocked responses
ðŸ“ Found venue: Chicago O'Hare Airport with slug: /ord-airport-parking/
ðŸŒ Fetching HTML page: https://www.parkwhiz.com/ord-airport-parking/

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should complete full workflow for ORD with mocked responses
JSON length: 1173
First 200 chars: {
  "locations": [
    {
      "location_id": "ord_001",
      "type": "offstreet",
      "distance": {
        "straight_line": {
          "feet": 3960,
          "meters": 1207
        }
      },
 
Last 200 chars: al_code": "60018", 
          "location_type": "garage",
          "entrances": [
            {
              "coordinates": [41.9786, -87.8824]
            }
          ]
        }
      }
    }
  ]
}
ðŸ“Š Extracted initial state with 1 locations

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should complete full workflow for ORD with mocked responses
âœ… ParkWhiz Real: Retrieved 1 locations for ORD

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should complete full workflow for ORD with mocked responses
âœ… parkwhiz: Found 1 locations

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should handle HTTP errors gracefully
ðŸ” ParkWhiz Real: Searching locations... { airport: 'LAX', dates: '2024-12-20T10:00:00 to 2024-12-20T18:00:00' }
ðŸŒ ParkWhiz Real: Getting locations for LAX...
ðŸ” Getting bearer token...

stderr | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should handle HTTP errors gracefully
âŒ ParkWhiz Real: Failed to get locations for LAX: Error: Failed to fetch ParkWhiz homepage: 500
    at ParkWhizProvider.getBearerToken (/workspace/src/providers/parkwhiz/ParkWhizProvider.ts:120:13)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at ParkWhizProvider.getLocationsForAirport (/workspace/src/providers/parkwhiz/ParkWhizProvider.ts:68:27)
    at ParkWhizProvider.searchLocations (/workspace/src/providers/parkwhiz/ParkWhizProvider.ts:38:26)

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should handle missing venue data
ðŸ” ParkWhiz Real: Searching locations... {
  airport: 'INVALID',
  dates: '2024-12-20T10:00:00 to 2024-12-20T18:00:00'
}
ðŸŒ ParkWhiz Real: Getting locations for INVALID...
ðŸ” Getting bearer token...

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should handle missing venue data
âœ… Bearer token extracted successfully

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should handle missing venue data
âœ… Bearer token obtained
ðŸŒ Calling authenticated autocomplete API: https://api.parkwhiz.com/internal/v1/autocomplete/?term=INVALID&results=6&country=us%2Cca&cohort=control

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should handle missing venue data
ðŸ“Š Autocomplete response: {
  "autocomplete": []
}
âŒ No autocomplete results found

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should handle missing venue data
âŒ No venue found for airport code: INVALID

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should handle missing venue data
âœ… parkwhiz: Found 0 locations

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should handle malformed HTML gracefully
ðŸ” ParkWhiz Real: Searching locations... { airport: 'LAX', dates: '2024-12-20T10:00:00 to 2024-12-20T18:00:00' }
ðŸŒ ParkWhiz Real: Getting locations for LAX...
ðŸ” Getting bearer token...

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should handle malformed HTML gracefully
âœ… Bearer token extracted successfully

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should handle malformed HTML gracefully
âœ… Bearer token obtained
ðŸŒ Calling authenticated autocomplete API: https://api.parkwhiz.com/internal/v1/autocomplete/?term=LAX&results=6&country=us%2Cca&cohort=control

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should handle malformed HTML gracefully
ðŸ“Š Autocomplete response: {
  "autocomplete": [
    {
      "id": "12",
      "result_type": "venue",
      "full_name": "LAX Airport",
      "short_name": "LAX Airport",
      "coordinates": [
        33.94240029061568,
        -118.40766429908399
      ],
      "slug": "/lax-airport-parking/",
      "city": "Los Angeles",
      "state": "CA",
      "country": "US"
    }
  ]
}
ðŸ” Found 1 airport results out of 1 total results

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should handle malformed HTML gracefully
ðŸ“ Found venue: LAX Airport with slug: /lax-airport-parking/
ðŸŒ Fetching HTML page: https://www.parkwhiz.com/lax-airport-parking/

stdout | src/providers/parkwhiz/ParkWhizProvider.integration.test.ts > ParkWhiz Real API End-to-End > should execute full authentication and location retrieval workflow for ORD
ðŸš€ Starting end-to-end ParkWhiz API test for ORD...
ðŸŒ ParkWhiz Real: Getting locations for ORD...
ðŸ” Getting bearer token...

stdout | src/providers/spotHero/SpotHeroProvider.integration.test.ts > SpotHeroProvider Integration Tests > searchLocations > should fetch and normalize real SpotHero locations for ORD airport
ðŸ” SpotHero: Searching locations... { airport: 'ORD', dates: '2025-10-18T12:00:00 to 2025-10-22T12:00:00' }
ðŸŒ SpotHero: Fetching from API: https://api.spothero.com/v2/search/airport?iata=ORD&starts=2025-10-18T12%3A00%3A00&ends=2025-10-22T12%3A00%3A00&oversize=false&show_unavailable=false

stderr | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should handle malformed HTML gracefully
âŒ ParkWhiz Real: Failed to get locations for LAX: Error: Could not find window.__INITIAL_STATE__ in HTML
    at ParkWhizProvider.extractInitialStateFromHtml (/workspace/src/providers/parkwhiz/ParkWhizProvider.ts:352:13)
    at ParkWhizProvider.extractLocationsFromHtmlInternal (/workspace/src/providers/parkwhiz/ParkWhizProvider.ts:332:31)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at retryWithBackoff (/workspace/src/providers/common/retryWithBackoff.ts:121:14)
    at ParkWhizProvider.getLocationsForAirport (/workspace/src/providers/parkwhiz/ParkWhizProvider.ts:86:25)
    at ParkWhizProvider.searchLocations (/workspace/src/providers/parkwhiz/ParkWhizProvider.ts:38:26)
    at /workspace/src/providers/parkwhiz/ParkWhizProvider.unit.test.ts:284:5
    at file:///workspace/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should properly normalize different location types
ðŸ” ParkWhiz Real: Searching locations... { airport: 'LAX', dates: '2024-12-20T10:00:00 to 2024-12-20T18:00:00' }
ðŸŒ ParkWhiz Real: Getting locations for LAX...
ðŸ” Getting bearer token...

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should properly normalize different location types
âœ… Bearer token extracted successfully

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should properly normalize different location types
âœ… Bearer token obtained
ðŸŒ Calling authenticated autocomplete API: https://api.parkwhiz.com/internal/v1/autocomplete/?term=LAX&results=6&country=us%2Cca&cohort=control

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should properly normalize different location types
ðŸ“Š Autocomplete response: {
  "autocomplete": [
    {
      "id": "12",
      "result_type": "venue",
      "full_name": "LAX Airport",
      "short_name": "LAX Airport",
      "coordinates": [
        33.94240029061568,
        -118.40766429908399
      ],
      "slug": "/lax-airport-parking/",
      "city": "Los Angeles",
      "state": "CA",
      "country": "US"
    }
  ]
}
ðŸ” Found 1 airport results out of 1 total results

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should properly normalize different location types
ðŸ“ Found venue: LAX Airport with slug: /lax-airport-parking/
ðŸŒ Fetching HTML page: https://www.parkwhiz.com/lax-airport-parking/

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should properly normalize different location types
JSON length: 2237
First 200 chars: {
        "locations": [
          {
            "location_id": "garage_001", 
            "distance": { "straight_line": { "feet": 2640 } },
            "purchase_options": [{ 
              "start_t
Last 200 chars:                 "entrances": [
                  {
                    "coordinates": [33.95, -118.41]
                  }
                ]
              }
            }
          }
        ]
      }
ðŸ“Š Extracted initial state with 2 locations

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should properly normalize different location types
âœ… ParkWhiz Real: Retrieved 2 locations for LAX

stdout | src/providers/parkwhiz/ParkWhizProvider.unit.test.ts > ParkWhiz Real Service with HTTP Mocks > should properly normalize different location types
âœ… parkwhiz: Found 2 locations

 âœ“ src/providers/parkwhiz/ParkWhizProvider.unit.test.ts (9 tests) 26ms
stdout | src/providers/cheapAirportParking/mock/CheapAirportParkingMockProvider.unit.test.ts > Cheap Airport Parking Service > Basic Functionality > should return locations for valid airport
ðŸ” Cheap Airport Parking (Mock): Searching locations... {
  airport: 'LAX',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

stdout | src/providers/cheapAirportParking/mock/CheapAirportParkingMockProvider.test.ts > Cheap Airport Parking Service > Basic Functionality > should return locations for valid airport
ðŸ” Cheap Airport Parking (Mock): Searching locations... {
  airport: 'LAX',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

 âœ“ src/edgeCases.unit.test.ts (11 tests) 12ms
stdout | src/locationMatching/LocationmatchingService.unit.test.ts > LocationMatchingService - Mock Tests > findMatches > should match locations with similar names
ðŸ” ParkWhiz: Searching locations... {
  airport: 'LAX',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should fetch and normalize real Cheap Airport Parking locations for ORD airport
ðŸ” Cheap Airport Parking: Searching locations... { airport: 'ORD', dates: '2025-10-18T12:00:00 to 2025-10-22T12:00:00' }
ðŸŒ Cheap Airport Parking: Fetching from API: https://www.cheapairportparking.org/parking/find.php?airport=ORD&FromDate=10%2F18%2F2025&from_time=12&ToDate=10%2F22%2F2025&to_time=12

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should match locations with real ParkWhiz and SpotHero providers
ðŸ” ParkWhiz Real: Searching locations... { airport: 'LAX', dates: '2025-10-20T10:00:00 to 2025-10-22T18:00:00' }
ðŸŒ ParkWhiz Real: Getting locations for LAX...
ðŸ” Getting bearer token...
ðŸ” SpotHero: Searching locations... { airport: 'LAX', dates: '2025-10-20T10:00:00 to 2025-10-22T18:00:00' }
ðŸŒ SpotHero: Fetching from API: https://api.spothero.com/v2/search/airport?iata=LAX&starts=2025-10-20T10%3A00%3A00&ends=2025-10-22T18%3A00%3A00&oversize=false&show_unavailable=false
ðŸ” Cheap Airport Parking: Searching locations... { airport: 'LAX', dates: '2025-10-20T10:00:00 to 2025-10-22T18:00:00' }
ðŸŒ Cheap Airport Parking: Fetching from API: https://www.cheapairportparking.org/parking/find.php?airport=LAX&FromDate=10%2F20%2F2025&from_time=10&ToDate=10%2F22%2F2025&to_time=18

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > searchParkingWithMatching > should search all providers and find matches
ðŸ” Starting parking search for LAX
ðŸ“… Date range: Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)

ðŸ“¡ Querying parkwhiz...
ðŸ” ParkWhiz: Searching locations... {
  airport: 'LAX',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

ðŸ“¡ Querying spothero...
ðŸ” SpotHero (Mock): Searching locations... {
  airport: 'LAX',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

ðŸ“¡ Querying cheap_airport_parking...
ðŸ” Cheap Airport Parking (Mock): Searching locations... {
  airport: 'LAX',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should search with real ParkWhiz and SpotHero services
ðŸ” Starting parking search for LAX
ðŸ“… Date range: Fri Oct 17 2025 22:22:47 GMT+0000 (Coordinated Universal Time) to Sat Oct 18 2025 22:22:47 GMT+0000 (Coordinated Universal Time)

ðŸ“¡ Querying parkwhiz...
ðŸ” ParkWhiz Real: Searching locations... { airport: 'LAX', dates: '2025-10-17T22:22:47 to 2025-10-18T22:22:47' }
ðŸŒ ParkWhiz Real: Getting locations for LAX...
ðŸ” Getting bearer token...

ðŸ“¡ Querying spothero...
ðŸ” SpotHero: Searching locations... { airport: 'LAX', dates: '2025-10-17T22:22:47 to 2025-10-18T22:22:47' }
ðŸŒ SpotHero: Fetching from API: https://api.spothero.com/v2/search/airport?iata=LAX&starts=2025-10-17T22%3A22%3A47&ends=2025-10-18T22%3A22%3A47&oversize=false&show_unavailable=false

ðŸ“¡ Querying cheap_airport_parking...
ðŸ” Cheap Airport Parking: Searching locations... { airport: 'LAX', dates: '2025-10-17T22:22:47 to 2025-10-18T22:22:47' }
ðŸŒ Cheap Airport Parking: Fetching from API: https://www.cheapairportparking.org/parking/find.php?airport=LAX&FromDate=10%2F17%2F2025&from_time=22&ToDate=10%2F18%2F2025&to_time=22

stdout | src/providers/spotHero/SpotHeroProvider.integration.test.ts > SpotHeroProvider Integration Tests > searchLocations > should fetch and normalize real SpotHero locations for ORD airport
ðŸ“Š SpotHero: Retrieved 26 results

stdout | src/providers/spotHero/SpotHeroProvider.integration.test.ts > SpotHeroProvider Integration Tests > searchLocations > should fetch and normalize real SpotHero locations for ORD airport
âœ… SpotHero: Found 26 locations

stdout | src/providers/spotHero/SpotHeroProvider.integration.test.ts > SpotHeroProvider Integration Tests > searchLocations > should fetch and normalize real SpotHero locations for ORD airport

âœ… Sample SpotHero Location (ORD):
{
  "provider_id": "12897",
  "provider": "spothero",
  "name": "The Rose Hotel - Uncovered Self Park",
  "address": {
    "street": "5200 Pearl Street",
    "city": "Des Plaines",
    "state": "IL",
    "zip": "60018",
    "full_address": "5200 Pearl Street, Des Plaines, IL 60018"
  },
  "coordinates": {
    "latitude": 41.9739656,
    "longitude": -87.8709264
  },
  "distance_to_airport_miles": 0.7094127741088848,
  "pricing": {
    "daily_rate": 21.15,
    "currency": "USD"
  },
  "amenities": [
    "self_park",
    "paved",
    "touchless",
    "attendant",
    "shuttle",
    "wheelchair_accessible"
  ],
  "availability": true,
  "available_from": "2025-10-18T12:00:00-05:00",
  "available_until": "2025-10-22T12:00:00-05:00",
  "shuttle_service": true,
  "valet_service": false,
  "covered_parking": false,
  "provider_data": {
    "slug": "5200-pearl-st",
    "operator_display_name": "Rose Hotel Parking",
    "description": "",
    "navigation_tip": "Enter this location at 5200 Pearl St. This is The Rose Hotel lot. It is located on the south side of Berwyn Ave. between Balmoral Ave. and Farragut Ave. Make sure you are parking in the Rose Hotel parking lot and NOT the areas nearby areas labeled NO OVERNIGHT PARKING.",
    "rating": {
      "average": 4.7,
      "count": 570
    },
    "restrictions": [
      " Please note: The shuttle runs by appointment only on the top and the bottom of every hour. To make sure that you arrive at the airport on time, please arrive at the hotel no less than 2 hours before your flight. The hotel is NOT responsible if you must wait for the next shuttle. For an easier experience, please call the hotel to reserve your shuttle drop off and pick up. They can be reached at 847-260-4770.",
      "Make sure you are parking in The Rose Hotel parking lot and NOT the areas nearby areas labeled. NO OVERNIGHT PARKING.",
      "Please call hotel to make an appointment for drop off at Oâ€™Hare airport 847-260-4770",
      "Please note, your QR code can only be scanned after the start time of the reservation. Please book enough time to make it to your shuttle."
    ],
    "cancellation": {
      "allowed_by_customer": true,
      "allowed_by_spothero_customer_service": true,
      "minutes": 0
    },
    "redemption_type": "self",
    "parking_pass_type": "scan_in_out",
    "available_spaces": 3,
    "lowest_daily_rate": 18,
    "original_data": {
      "distance": {
        "linear_meters": 1141.6895447468337
      },
      "vehicle": null,
      "rates": [
        {
          "airport": {
            "tag": null,
            "comparisons": null,
            "redemption_type": "self",
            "parking_pass": {
              "type": "scan_in_out",
              "display_name": "Scan In/Out"
            },
            "amenities": [
              {
                "type": "self_park",
                "display_name": "Self Park",
                "description": "Users may park their own vehicles at this facility."
              },
              {
                "type": "paved",
                "display_name": "Lot - Uncovered",
                "description": "The surface of the facility is solid, such as asphalt or concrete."
              },
              {
                "type": "touchless",
                "display_name": "Touchless",
                "description": "Entering/exiting the facility does not require touching shared surfaces."
              },
              {
                "type": "attendant",
                "display_name": "On-Site Staff",
                "description": "The facility has staff on-site for assistance and questions."
              },
              {
                "type": "shuttle",
                "display_name": "Airport Shuttle",
                "description": "The facility has a shuttle available to nearby destinations, like an airport."
              },
              {
                "type": "wheelchair_accessible",
                "display_name": "Wheelchair Accessible",
                "description": "The facility is wheelchair accessible."
              }
            ],
            "lowest_daily_rate": {
              "currency_code": "USD",
              "value": 1800
            }
          },
          "quote": {
            "meta": {
              "quote_mac": "13925",
              "quote_valid_until": "2025-10-22T12:00:00-05:00",
              "partner_id": "",
              "quote_token": ""
            },
            "total_price": {
              "currency_code": "USD",
              "value": 8460
            },
            "advertised_price": {
              "currency_code": "USD",
              "value": 1875
            },
            "order": [
              {
                "meta": {},
                "starts": "2025-10-18T12:00:00-05:00",
                "ends": "2025-10-22T12:00:00-05:00",
                "total_price": {
                  "currency_code": "USD",
                  "value": 8460
                },
                "facility_id": "12897",
                "rate_id": "13925",
                "items": [
                  {
                    "type": "rental",
                    "short_description": "$18.75 x 4 days",
                    "full_description": "",
                    "price": {
                      "currency_code": "USD",
                      "value": 7500
                    }
                  },
                  {
                    "type": "optimization_fee",
                    "short_description": "Additional Fees",
                    "full_description": "This amount covers fees charged by the facility operator for costs such as airport charges, facility fees, and additional operator expenses, as estimated by SpotHero.",
                    "price": {
                      "currency_code": "USD",
                      "value": 500
                    }
                  },
                  {
                    "type": "blanket_fee",
                    "short_description": "Service Fee",
                    "full_description": "The service fee helps us cover the costs of running our platform and providing services related to your reservation. For more information, visit our FAQs.",
                    "price": {
                      "currency_code": "USD",
                      "value": 460
                    }
                  }
                ]
              }
            ],
            "items": [
              {
                "type": "rental",
                "short_description": "$18.75 x 4 days",
                "full_description": "",
                "price": {
                  "currency_code": "USD",
                  "value": 7500
                }
              },
              {
                "type": "optimization_fee",
                "short_description": "Additional Fees",
                "full_description": "This amount covers fees charged by the facility operator for costs such as airport charges, facility fees, and additional operator expenses, as estimated by SpotHero.",
                "price": {
                  "currency_code": "USD",
                  "value": 500
                }
              },
              {
                "type": "blanket_fee",
                "short_description": "Service Fee",
                "full_description": "The service fee helps us cover the costs of running our platform and providing services related to your reservation. For more information, visit our FAQs.",
                "price": {
                  "currency_code": "USD",
                  "value": 460
                }
              }
            ]
          }
        }
      ],
      "availability": {
        "unavailable_reasons": [],
        "available_spaces": 3,
        "available": true
      },
      "facility": {
        "airport": {
          "logo": {
            "id": "55845",
            "url": "https://res.cloudinary.com/spothero/image/upload/w_275,h_236,q_50,x_137,y_118,c_fill,g_xy_center,f_auto/c_scale,fl_relative,g_south_east,l_logos:spothero,o_27,w_0.25,x_0.05,y_0.05/v1561132817/iteb2prs1gfvxnbpyhuc.png",
            "alt_text": "5200 Pearl Street Parking"
          },
          "redemption_instructions": {
            "arrival": [
              {
                "id": "44443",
                "illustration": {
                  "id": "6",
                  "url": "https://res.cloudinary.com/spothero/image/upload/v1408636215/egujzas3s3lavcix5mit.png",
                  "alt_text": "Scan QR"
                },
                "text": "Scan your QR Code at the box with the red flashing lights. Hold the QR code about 2 inches away from the reader and the gate will open."
              },
              {
                "id": "46089",
                "illustration": {
                  "id": "7",
                  "url": "https://res.cloudinary.com/spothero/image/upload/v1408636122/b2omz3upgcpjn44cyhjb.png",
                  "alt_text": "Park Where"
                },
                "text": "You may park anywhere that doesn't say \"Reserved\"."
              },
              {
                "id": "46090",
                "illustration": {
                  "id": "88",
                  "url": "https://res.cloudinary.com/spothero/image/upload/v1522772553/oyiwh1r0jt9tr8hugzc1.png",
                  "alt_text": "Shuttle"
                },
                "text": "Gather your luggage and head to the hotel entrance to board the shuttle. The shuttle runs 24/7."
              }
            ],
            "departure": [
              {
                "id": "46091",
                "illustration": {
                  "id": "86",
                  "url": "https://res.cloudinary.com/spothero/image/upload/v1522772516/x6yk4p8tw2rkzqn0inzw.png",
                  "alt_text": "Luggage"
                },
                "text": "All hotel shuttle pickups at ORD are located on the LOWER LEVEL of Terminal 2. Once you arrive at the lower level of terminal 2, our pickup zone is at Vestibule 2E. Please give us a call once you arrive at 847-260-4770 as we pick up only upon request. It is 24/7 departing every 30 minutes. To reach the pickup spot from terminal 5, you will need to take the airport train over to terminal 2 and make your way downstairs. "
              },
              {
                "id": "46092",
                "illustration": {
                  "id": "6",
                  "url": "https://res.cloudinary.com/spothero/image/upload/v1408636215/egujzas3s3lavcix5mit.png",
                  "alt_text": "Scan QR"
                },
                "text": "When exiting, scan your QR Code again at the box with the red flashing lights. The gate will open and you're free to go!"
              }
            ]
          },
          "transportation": {
            "type": "scheduled_shuttle",
            "contact_phone_number": "+1 847-260-4770",
            "schedule": {
              "fast_frequency": 30,
              "slow_frequency": 60,
              "duration": 7
            },
            "images": [
              {
                "id": "184195",
                "url": "https://res.cloudinary.com/spothero/image/upload/w_272,h_179,q_50,x_136,y_89,c_fill,g_xy_center,f_auto/c_scale,fl_relative,g_south_east,l_logos:spothero,o_27,w_0.25,x_0.05,y_0.05/v1723475149/dvkteqfiixdzkyiyjnm6.png",
                "alt_text": ""
              }
            ],
            "hours_of_operation": {
              "periods": [],
              "text": [
                "This spot's shuttle operates 24/7."
              ],
              "always_open": true
            }
          }
        },
        "common": {
          "vehicle_policy": {
            "oversize_vehicle_policy": null,
            "dimension_restrictions": null
          },
          "clearance_inches": null,
          "status": "on_sales_allowed",
          "title": "The Rose Hotel - Uncovered Self Park",
          "slug": "5200-pearl-st",
          "operator_display_name": "Rose Hotel Parking",
          "id": "12897",
          "description": "",
          "barcode_type": "qrcode",
          "facility_type": "lot",
          "navigation_tip": "Enter this location at 5200 Pearl St. This is The Rose Hotel lot. It is located on the south side of Berwyn Ave. between Balmoral Ave. and Farragut Ave. Make sure you are parking in the Rose Hotel parking lot and NOT the areas nearby areas labeled NO OVERNIGHT PARKING.",
          "images": [
            {
              "id": "112794",
              "url": "https://res.cloudinary.com/spothero/image/upload/w_2034,h_1498,q_50,x_1017,y_749,c_fill,g_xy_center,f_auto/c_scale,fl_relative,g_south_east,l_logos:spothero,o_27,w_0.25,x_0.05,y_0.05/v1652385081/sl19j8wqzmf8jzoxjql4.png",
              "alt_text": "5200 Pearl Street Parking"
            },
            {
              "id": "112795",
              "url": "https://res.cloudinary.com/spothero/image/upload/w_2018,h_1502,q_50,x_1009,y_751,c_fill,g_xy_center,f_auto/c_scale,fl_relative,g_south_east,l_logos:spothero,o_27,w_0.25,x_0.05,y_0.05/v1652385083/iytsgv827qksxxadpjbw.png",
              "alt_text": "5200 Pearl Street Parking"
            }
          ],
          "supported_fee_types": [
            "blanket_fee",
            "monthly_fee"
          ],
          "parking_types": [
            "transient",
            "airport"
          ],
          "visual_flags": [],
          "fees": [],
          "addresses": [
            {
              "id": "108954",
              "city": "Des Plaines",
              "state": "IL",
              "street_address": "5200 Pearl Street",
              "time_zone": "America/Chicago",
              "country": "US",
              "postal_code": "60018",
              "types": [
                "search",
                "walking_distance",
                "vehicle_entrance"
              ],
              "latitude": 41.9739656,
              "longitude": -87.8709264
            },
            {
              "id": "121753",
              "city": "Des Plaines",
              "state": "IL",
              "street_address": "5200 Pearl Street",
              "time_zone": "America/Chicago",
              "country": "US",
              "postal_code": "60018",
              "types": [
                "default_vehicle_entrance"
              ],
              "latitude": 41.9749015,
              "longitude": -87.871432
            },
            {
              "id": "13626",
              "city": "Des Plaines",
              "state": "IL",
              "street_address": "5200 Pearl Street",
              "time_zone": "America/Chicago",
              "country": "US",
              "postal_code": "60018",
              "types": [
                "physical"
              ],
              "latitude": 41.97396599999999,
              "longitude": -87.870926
            }
          ],
          "restrictions": [
            " Please note: The shuttle runs by appointment only on the top and the bottom of every hour. To make sure that you arrive at the airport on time, please arrive at the hotel no less than 2 hours before your flight. The hotel is NOT responsible if you must wait for the next shuttle. For an easier experience, please call the hotel to reserve your shuttle drop off and pick up. They can be reached at 847-260-4770.",
            "Make sure you are parking in The Rose Hotel parking lot and NOT the areas nearby areas labeled. NO OVERNIGHT PARKING.",
            "Please call hotel to make an appointment for drop off at Oâ€™Hare airport 847-260-4770",
            "Please note, your QR code can only be scanned after the start time of the reservation. Please book enough time to make it to your shuttle."
          ],
          "hours_of_operation": {
            "periods": [],
            "text": [
              "This facility is open 24/7."
            ],
            "always_open": true
          },
          "cancellation": {
            "allowed_by_customer": true,
            "allowed_by_spothero_customer_service": true,
            "minutes": 0
          },
          "rating": {
            "average": 4.7,
            "count": 570
          },
          "inventory": {
            "default_quantity": 50
          },
          "operator_id": 5573110,
          "company_id": 1651,
          "requirements": {
            "printout": false,
            "license_plate": true,
            "phone_number": false
          },
          "oversize_fees_charged_onsite": false,
          "allow_updating_reservation_after_entry": true,
          "require_credit_card": true,
          "is_scan_to_pay": false,
          "is_part_of_loyalty_program": false,
          "events": {
            "allow_reservations_outside_hours_of_operations": false
          },
          "reservation_extension_enabled": true
        }
      }
    }
  }
}

stdout | src/providers/spotHero/SpotHeroProvider.integration.test.ts > SpotHeroProvider Integration Tests > searchLocations > should fetch and normalize real SpotHero locations for LAX airport
ðŸ” SpotHero: Searching locations... { airport: 'LAX', dates: '2025-10-20T09:00:00 to 2025-10-25T09:00:00' }
ðŸŒ SpotHero: Fetching from API: https://api.spothero.com/v2/search/airport?iata=LAX&starts=2025-10-20T09%3A00%3A00&ends=2025-10-25T09%3A00%3A00&oversize=false&show_unavailable=false

stdout | src/providers/spotHero/mock/SpotHeroMockProvider.unit.test.ts > SpotHero Service > Basic Functionality > should properly normalize amenities through the API
ðŸ” SpotHero (Mock): Searching locations... {
  airport: 'LAX',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should search with real ParkWhiz and SpotHero services
ðŸ“Š SpotHero: Retrieved 32 results

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should search with real ParkWhiz and SpotHero services
âœ… SpotHero: Found 32 locations

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should search with real ParkWhiz and SpotHero services
âœ… spothero: Found 32 locations

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should match locations with real ParkWhiz and SpotHero providers
ðŸ“Š SpotHero: Retrieved 54 results

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should match locations with real ParkWhiz and SpotHero providers
âœ… SpotHero: Found 54 locations

stdout | src/providers/spotHero/SpotHeroProvider.integration.test.ts > SpotHeroProvider Integration Tests > searchLocations > should fetch and normalize real SpotHero locations for LAX airport
ðŸ“Š SpotHero: Retrieved 54 results

stdout | src/providers/spotHero/SpotHeroProvider.integration.test.ts > SpotHeroProvider Integration Tests > searchLocations > should fetch and normalize real SpotHero locations for LAX airport
âœ… SpotHero: Found 54 locations

stdout | src/providers/spotHero/SpotHeroProvider.integration.test.ts > SpotHeroProvider Integration Tests > searchLocations > should fetch and normalize real SpotHero locations for LAX airport

âœ… Found 54 SpotHero locations for LAX

Sample LAX Location:
  Name: Airport Spectrum LAX - Covered Self Park
  Address: 5757 West Century Boulevard, Los Angeles, CA 90045
  Daily Rate: $10.99
  Distance: 0.41 miles
  Shuttle: Yes
  Valet: No

stdout | src/providers/spotHero/SpotHeroProvider.integration.test.ts > SpotHeroProvider Integration Tests > searchLocations > should handle different date ranges correctly
ðŸ” SpotHero: Searching locations... { airport: 'ORD', dates: '2025-11-01T08:00:00 to 2025-11-02T08:00:00' }
ðŸŒ SpotHero: Fetching from API: https://api.spothero.com/v2/search/airport?iata=ORD&starts=2025-11-01T08%3A00%3A00&ends=2025-11-02T08%3A00%3A00&oversize=false&show_unavailable=false

stdout | src/providers/spotHero/SpotHeroProvider.integration.test.ts > SpotHeroProvider Integration Tests > searchLocations > should handle different date ranges correctly
ðŸ“Š SpotHero: Retrieved 34 results

stdout | src/providers/spotHero/SpotHeroProvider.integration.test.ts > SpotHeroProvider Integration Tests > searchLocations > should handle different date ranges correctly
âœ… SpotHero: Found 34 locations

stdout | src/providers/spotHero/SpotHeroProvider.integration.test.ts > SpotHeroProvider Integration Tests > searchLocations > should handle different date ranges correctly
ðŸ” SpotHero: Searching locations... { airport: 'ORD', dates: '2025-11-01T08:00:00 to 2025-11-08T08:00:00' }
ðŸŒ SpotHero: Fetching from API: https://api.spothero.com/v2/search/airport?iata=ORD&starts=2025-11-01T08%3A00%3A00&ends=2025-11-08T08%3A00%3A00&oversize=false&show_unavailable=false

stdout | src/providers/parkwhiz/ParkWhizProvider.integration.test.ts > ParkWhiz Real API End-to-End > should execute full authentication and location retrieval workflow for ORD
âœ… Bearer token extracted successfully

stdout | src/providers/parkwhiz/ParkWhizProvider.integration.test.ts > ParkWhiz Real API End-to-End > should execute full authentication and location retrieval workflow for ORD
âœ… Bearer token obtained
ðŸŒ Calling authenticated autocomplete API: https://api.parkwhiz.com/internal/v1/autocomplete/?term=ORD&results=6&country=us%2Cca&cohort=control

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > searchParkingWithMatching > should search all providers and find matches
âœ… spothero: Found 5 locations

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should fetch and normalize real Cheap Airport Parking locations for ORD airport
ðŸ“„ Cheap Airport Parking: Retrieved HTML response (65376 characters)
ðŸ“Š Cheap Airport Parking: Parsed 7 locations

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should fetch and normalize real Cheap Airport Parking locations for ORD airport
ðŸ“ Cheap Airport Parking: Fetching address details for 7 locations in batches of 5...
  ðŸ“¦ Processing batch 1/2 (5 locations)...

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should match locations with real ParkWhiz and SpotHero providers
âœ… Bearer token extracted successfully

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should match locations with real ParkWhiz and SpotHero providers
âœ… Bearer token obtained
ðŸŒ Calling authenticated autocomplete API: https://api.parkwhiz.com/internal/v1/autocomplete/?term=LAX&results=6&country=us%2Cca&cohort=control

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should search with real ParkWhiz and SpotHero services
âœ… Bearer token extracted successfully

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should search with real ParkWhiz and SpotHero services
âœ… Bearer token obtained
ðŸŒ Calling authenticated autocomplete API: https://api.parkwhiz.com/internal/v1/autocomplete/?term=LAX&results=6&country=us%2Cca&cohort=control

stdout | src/locationMatching/LocationmatchingService.unit.test.ts > LocationMatchingService - Mock Tests > findMatches > should match locations with similar names
ðŸ” SpotHero (Mock): Searching locations... {
  airport: 'LAX',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

stdout | src/providers/spotHero/SpotHeroProvider.integration.test.ts > SpotHeroProvider Integration Tests > searchLocations > should handle different date ranges correctly
ðŸ“Š SpotHero: Retrieved 35 results

stdout | src/providers/spotHero/SpotHeroProvider.integration.test.ts > SpotHeroProvider Integration Tests > searchLocations > should handle different date ranges correctly
âœ… SpotHero: Found 35 locations

stdout | src/providers/spotHero/SpotHeroProvider.integration.test.ts > SpotHeroProvider Integration Tests > searchLocations > should handle different date ranges correctly

âœ… Short stay (1 day): 34 locations
âœ… Long stay (7 days): 35 locations

Pricing comparison for same facility (if available):
  1-day stay: $13.00/day
  7-day stay: $18.24/day

stdout | src/providers/spotHero/SpotHeroProvider.integration.test.ts > SpotHeroProvider Integration Tests > searchLocations > should handle amenities correctly
ðŸ” SpotHero: Searching locations... { airport: 'ORD', dates: '2025-10-18T12:00:00 to 2025-10-22T12:00:00' }
ðŸŒ SpotHero: Fetching from API: https://api.spothero.com/v2/search/airport?iata=ORD&starts=2025-10-18T12%3A00%3A00&ends=2025-10-22T12%3A00%3A00&oversize=false&show_unavailable=false

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > searchParkingWithMatching > should search all providers and find matches
âœ… parkwhiz: Found 1 locations

stdout | src/providers/spotHero/SpotHeroProvider.integration.test.ts > SpotHeroProvider Integration Tests > searchLocations > should handle amenities correctly
ðŸ“Š SpotHero: Retrieved 26 results

stdout | src/providers/spotHero/SpotHeroProvider.integration.test.ts > SpotHeroProvider Integration Tests > searchLocations > should handle amenities correctly
âœ… SpotHero: Found 26 locations

stdout | src/providers/spotHero/SpotHeroProvider.integration.test.ts > SpotHeroProvider Integration Tests > searchLocations > should handle amenities correctly

âœ… Amenity breakdown for 26 locations:
  Shuttle service: 15
  Valet service: 4
  Covered parking: 7

stdout | src/providers/spotHero/SpotHeroProvider.integration.test.ts > SpotHeroProvider Integration Tests > searchLocations > should provide valid availability date ranges
ðŸ” SpotHero: Searching locations... { airport: 'ORD', dates: '2025-10-18T12:00:00 to 2025-10-22T12:00:00' }
ðŸŒ SpotHero: Fetching from API: https://api.spothero.com/v2/search/airport?iata=ORD&starts=2025-10-18T12%3A00%3A00&ends=2025-10-22T12%3A00%3A00&oversize=false&show_unavailable=false

stdout | src/providers/spotHero/mock/SpotHeroMockProvider.unit.test.ts > SpotHero Service > Error Handling > should handle invalid airport codes gracefully
ðŸ” SpotHero (Mock): Searching locations... {
  airport: 'INVALID',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

stdout | src/providers/parkwhiz/ParkWhizProvider.integration.test.ts > ParkWhiz Real API End-to-End > should execute full authentication and location retrieval workflow for ORD
ðŸ“Š Autocomplete response: {
  "autocomplete": [
    {
      "id": "5",
      "result_type": "venue",
      "full_name": "O'Hare Airport",
      "short_name": "O'Hare Airport",
      "coordinates": [
        41.98056,
        -87.885705
      ],
      "slug": "/o-hare-airport-parking/",
      "slugs": {
        "bestparking": "/chicago-il-parking/destinations/o-hare-airport-parking/",
        "parkwhiz": "/o-hare-airport-parking/"
      },
      "city": "Chicago",
      "state": "IL",
      "country": "US",
      "timezone": "America/Chicago",
      "place_id": "",
      "must_resolve": false,
      "score": 0
    },
    {
      "id": "dXJuOm1ieHBvaToyZTkzMGExNy0wNGU0LTRlNTYtYWU2OS04YzZmZDFlNmM2YWM",
      "result_type": "place",
      "full_name": "Ordo",
      "short_name": "Ordo",
      "coordinates": [
        42.171102,
        -87.825309
      ],
      "slugs": null,
      "address": "1855 Deerfield Rd Ste F, Highland Park, Illinois 60035, United States",
      "city": "Highland Park",
      "state": "IL",
      "postal_code": "60035",
      "country": "US",
      "timezone": "America/Chicago",
      "place_id": "dXJuOm1ieHBvaToyZTkzMGExNy0wNGU0LTRlNTYtYWU2OS04YzZmZDFlNmM2YWM",
      "must_resolve": true,
      "score": 1.4
    },
    {
      "id": "dXJuOm1ieHBvaTo0MTJkNDQxZS0wMTIwLTQzZWMtOTA1Ni0xZDRkYTRlYmJhNTQ",
      "result_type": "place",
      "full_name": "Order.",
      "short_name": "Order.",
      "coordinates": [
        40.28562333,
        -79.72627072
      ],
      "slugs": null,
      "address": "3028 Clay Pike, Rillton, Pennsylvania 15678, United States",
      "city": "Rillton",
      "state": "PA",
      "postal_code": "15678",
      "country": "US",
      "timezone": "America/New_York",
      "place_id": "dXJuOm1ieHBvaTo0MTJkNDQxZS0wMTIwLTQzZWMtOTA1Ni0xZDRkYTRlYmJhNTQ",
      "must_resolve": true,
      "score": 2.8
    },
    {
      "id": "dXJuOm1ieHBvaTpmODhjOGI0MS1mNmJhLTQ2OGItOTEwOS04OGM2NGY1MTY4ZDQ",
      "result_type": "place",
      "full_name": "Orderup",
      "short_name": "Orderup",
      "coordinates": [
        29.49754699,
        -98.46924699
      ],
      "slugs": null,
      "address": "999 E Basse Rd #400, San Antonio, Texas 78209, United States",
      "city": "San Antonio",
      "state": "TX",
      "postal_code": "78209",
      "country": "US",
      "timezone": "America/Chicago",
      "place_id": "dXJuOm1ieHBvaTpmODhjOGI0MS1mNmJhLTQ2OGItOTEwOS04OGM2NGY1MTY4ZDQ",
      "must_resolve": true,
      "score": 3.5
    },
    {
      "id": "dXJuOm1ieHBvaTpkMzdhNGYzYi04NjBhLTQ5MTQtYWY2MS0xYzVmN2I3M2VlMmQ",
      "result_type": "place",
      "full_name": "Ordinary",
      "short_name": "Ordinary",
      "coordinates": [
        41.307152,
        -72.92849
      ],
      "slugs": null,
      "address": "990 Chapel St, New Haven, Connecticut 06510, United States",
      "city": "New Haven",
      "state": "CT",
      "postal_code": "06510",
      "country": "US",
      "timezone": "America/New_York",
      "place_id": "dXJuOm1ieHBvaTpkMzdhNGYzYi04NjBhLTQ5MTQtYWY2MS0xYzVmN2I3M2VlMmQ",
      "must_resolve": true,
      "score": 4.199999999999999
    },
    {
      "id": "dXJuOm1ieHBvaTo4N2Y5NGZjYi03MmQ5LTQzODAtOWZmZC1lOTE2NTRkZjE1ZGQ",
      "result_type": "place",
      "full_name": "Ordinaire",
      "short_name": "Ordinaire",
      "coordinates": [
        36.84732541,
        -76.29105929
      ],
      "slugs": null,
      "address": "200 E Plume St, Norfolk, Virginia 23510, United States",
      "city": "Norfolk",
      "state": "VA",
      "postal_code": "23510",
      "country": "US",
      "timezone": "America/New_York",
      "place_id": "dXJuOm1ieHBvaTo4N2Y5NGZjYi03MmQ5LTQzODAtOWZmZC1lOTE2NTRkZjE1ZGQ",
      "must_resolve": true,
      "score": 4.8999999999999995
    }
  ],
  "events": [
    {
      "id": 1675437,
      "name": "Funksgiving with Universal Funk Order x Mac Wondo",
      "start_time": "2025-11-26T20:00:00.000-05:00",
      "end_time": "2025-11-26T23:00:00.000-05:00",
      "site_url": "/the-queen-parking/funksgiving-with-universal-funk-order-x-mac-wondo-1675437/",
      "_embedded": {
        "pw:venue": {
          "id": "323546",
          "name": "The Queen",
          "city": "Wilmington",
          "state": "DE",
          "timezone": "America/New_York",
          "enhanced_airport": false,
          "coordinates": [
            39.7411018,
            -75.5502779
          ]
        }
      }
    },
    {
      "id": 1652384,
      "name": "Richard Goode Plays Mozartâ€™s Piano Concerto No. 14",
      "start_time": "2025-10-17T19:00:00.000-05:00",
      "end_time": "2025-10-17T22:00:00.000-05:00",
      "site_url": "/ordway-center-for-the-performing-arts-parking/richard-goode-plays-mozart-s-piano-concerto-no-14-1652384/",
      "_embedded": {
        "pw:venue": {
          "id": "2552",
          "name": "Ordway Center for the Performing Arts",
          "city": "Saint Paul",
          "state": "MN",
          "timezone": "America/Chicago",
          "enhanced_airport": false,
          "coordinates": [
            44.94457195447249,
            -93.09822486945797
          ]
        }
      }
    },
    {
      "id": 1652386,
      "name": "Richard Goode Plays Mozartâ€™s Piano Concerto No. 14",
      "start_time": "2025-10-18T19:00:00.000-05:00",
      "end_time": "2025-10-18T22:00:00.000-05:00",
      "site_url": "/ordway-center-for-the-performing-arts-parking/richard-goode-plays-mozart-s-piano-concerto-no-14-1652386/",
      "_embedded": {
        "pw:venue": {
          "id": "2552",
          "name": "Ordway Center for the Performing Arts",
          "city": "Saint Paul",
          "state": "MN",
          "timezone": "America/Chicago",
          "enhanced_airport": false,
          "coordinates": [
            44.94457195447249,
            -93.09822486945797
          ]
        }
      }
    },
    {
      "id": 1652388,
      "name": "Haydnâ€™s Symphony No. 93 with Richard Egarr",
      "start_time": "2025-10-31T19:00:00.000-05:00",
      "end_time": "2025-10-31T22:00:00.000-05:00",
      "site_url": "/ordway-center-for-the-performing-arts-parking/haydn-s-symphony-no-93-with-richard-egarr-1652388/",
      "_embedded": {
        "pw:venue": {
          "id": "2552",
          "name": "Ordway Center for the Performing Arts",
          "city": "Saint Paul",
          "state": "MN",
          "timezone": "America/Chicago",
          "enhanced_airport": false,
          "coordinates": [
            44.94457195447249,
            -93.09822486945797
          ]
        }
      }
    },
    {
      "id": 1652389,
      "name": "Haydnâ€™s Symphony No. 93 with Richard Egarr",
      "start_time": "2025-11-01T19:00:00.000-05:00",
      "end_time": "2025-11-01T22:00:00.000-05:00",
      "site_url": "/ordway-center-for-the-performing-arts-parking/haydn-s-symphony-no-93-with-richard-egarr-1652389/",
      "_embedded": {
        "pw:venue": {
          "id": "2552",
          "name": "Ordway Center for the Performing Arts",
          "city": "Saint Paul",
          "state": "MN",
          "timezone": "America/Chicago",
          "enhanced_airport": false,
          "coordinates": [
            44.94457195447249,
            -93.09822486945797
          ]
        }
      }
    },
    {
      "id": 1676642,
      "name": "CosÃ¬ fan tutte",
      "start_time": "2025-11-01T19:30:00.000-05:00",
      "end_time": "2025-11-01T22:30:00.000-05:00",
      "site_url": "/ordway-center-for-the-performing-arts-parking/cosi-fan-tutte-1676642/",
      "_embedded": {
        "pw:venue": {
          "id": "2552",
          "name": "Ordway Center for the Performing Arts",
          "city": "Saint Paul",
          "state": "MN",
          "timezone": "America/Chicago",
          "enhanced_airport": false,
          "coordinates": [
            44.94457195447249,
            -93.09822486945797
          ]
        }
      }
    }
  ]
}
ðŸ” Found 1 airport results out of 6 total results

stdout | src/providers/parkwhiz/ParkWhizProvider.integration.test.ts > ParkWhiz Real API End-to-End > should execute full authentication and location retrieval workflow for ORD
ðŸ“ Found venue: O'Hare Airport with slug: /o-hare-airport-parking/
ðŸŒ Fetching HTML page: https://www.parkwhiz.com/o-hare-airport-parking/

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should match locations with real ParkWhiz and SpotHero providers
ðŸ“Š Autocomplete response: {
  "autocomplete": [
    {
      "id": "12",
      "result_type": "venue",
      "full_name": "LAX Airport",
      "short_name": "LAX Airport",
      "coordinates": [
        33.94240029061568,
        -118.40766429908399
      ],
      "slug": "/lax-airport-parking/",
      "slugs": {
        "bestparking": "/los-angeles-ca-parking/destinations/lax-airport-parking/",
        "parkwhiz": "/lax-airport-parking/"
      },
      "city": "Los Angeles",
      "state": "CA",
      "country": "US",
      "timezone": "America/Los_Angeles",
      "place_id": "",
      "must_resolve": false,
      "score": 0
    },
    {
      "id": "dXJuOm1ieHBvaTo4MjAwYTc0My00ZTFiLTRlODAtYmVkNi0zYWYwNzI0ZTkxNTg",
      "result_type": "place",
      "full_name": "LAX-C",
      "short_name": "LAX-C",
      "coordinates": [
        34.063335,
        -118.232791
      ],
      "slugs": null,
      "address": "1100 N Main St, Los Angeles, California 90012, United States",
      "city": "Los Angeles",
      "state": "CA",
      "postal_code": "90012",
      "country": "US",
      "timezone": "America/Los_Angeles",
      "place_id": "dXJuOm1ieHBvaTo4MjAwYTc0My00ZTFiLTRlODAtYmVkNi0zYWYwNzI0ZTkxNTg",
      "must_resolve": true,
      "score": 3.5
    },
    {
      "id": "dXJuOm1ieHBvaTowYjM2Yjg4Yi0xN2ZjLTRhNzItYTlhOC1kNmNmZTcyOWUzNzQ",
      "result_type": "place",
      "full_name": "LAXCC",
      "short_name": "LAXCC",
      "coordinates": [
        33.96188095,
        -118.42079199
      ],
      "slugs": null,
      "address": "8332 Lincoln Blvd, Los Angeles, California 90045, United States",
      "city": "Los Angeles",
      "state": "CA",
      "postal_code": "90045",
      "country": "US",
      "timezone": "America/Los_Angeles",
      "place_id": "dXJuOm1ieHBvaTowYjM2Yjg4Yi0xN2ZjLTRhNzItYTlhOC1kNmNmZTcyOWUzNzQ",
      "must_resolve": true,
      "score": 3.5
    },
    {
      "id": "144",
      "result_type": "venue",
      "full_name": "Jacksonville Airport",
      "short_name": "Jacksonville Airport",
      "coordinates": [
        30.493133,
        -81.681026
      ],
      "slug": "/jacksonville-airport-parking/",
      "slugs": {
        "bestparking": "/jacksonville-fl-parking/destinations/jacksonville-airport-parking/",
        "parkwhiz": "/jacksonville-airport-parking/"
      },
      "city": "Jacksonville",
      "state": "FL",
      "country": "US",
      "timezone": "America/New_York",
      "place_id": "",
      "must_resolve": false,
      "score": 4
    },
    {
      "id": "93",
      "result_type": "hub",
      "full_name": "Las Vegas",
      "short_name": "Las Vegas",
      "coordinates": [
        36.17168973456615,
        -115.15045166015626
      ],
      "slug": "/p/las-vegas-parking-3/map/",
      "slugs": {
        "bestparking": "/las-vegas-nv-parking/",
        "parkwhiz": "/p/las-vegas-parking-3/map/"
      },
      "city": "Las Vegas",
      "state": "NV",
      "country": "US",
      "timezone": "America/Los_Angeles",
      "place_id": "",
      "must_resolve": false,
      "score": 7.700000000000001
    },
    {
      "id": "419",
      "result_type": "venue",
      "full_name": "Lab Theater",
      "short_name": "Lab Theater",
      "coordinates": [
        44.989735,
        -93.2749931
      ],
      "slug": "/lab-theater-parking/",
      "slugs": {
        "bestparking": "/minneapolis-parking/destinations/lab-theater-parking/",
        "parkwhiz": "/lab-theater-parking/"
      },
      "city": "Minneapolis",
      "state": "MN",
      "country": "US",
      "timezone": "America/Chicago",
      "place_id": "",
      "must_resolve": false,
      "score": 9.9
    }
  ]
}
ðŸ” Found 2 airport results out of 6 total results

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should match locations with real ParkWhiz and SpotHero providers
ðŸ“ Found venue: LAX Airport with slug: /lax-airport-parking/
ðŸŒ Fetching HTML page: https://www.parkwhiz.com/lax-airport-parking/

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should search with real ParkWhiz and SpotHero services
ðŸ“Š Autocomplete response: {
  "autocomplete": [
    {
      "id": "12",
      "result_type": "venue",
      "full_name": "LAX Airport",
      "short_name": "LAX Airport",
      "coordinates": [
        33.94240029061568,
        -118.40766429908399
      ],
      "slug": "/lax-airport-parking/",
      "slugs": {
        "bestparking": "/los-angeles-ca-parking/destinations/lax-airport-parking/",
        "parkwhiz": "/lax-airport-parking/"
      },
      "city": "Los Angeles",
      "state": "CA",
      "country": "US",
      "timezone": "America/Los_Angeles",
      "place_id": "",
      "must_resolve": false,
      "score": 0
    },
    {
      "id": "dXJuOm1ieHBvaTo4MjAwYTc0My00ZTFiLTRlODAtYmVkNi0zYWYwNzI0ZTkxNTg",
      "result_type": "place",
      "full_name": "LAX-C",
      "short_name": "LAX-C",
      "coordinates": [
        34.063335,
        -118.232791
      ],
      "slugs": null,
      "address": "1100 N Main St, Los Angeles, California 90012, United States",
      "city": "Los Angeles",
      "state": "CA",
      "postal_code": "90012",
      "country": "US",
      "timezone": "America/Los_Angeles",
      "place_id": "dXJuOm1ieHBvaTo4MjAwYTc0My00ZTFiLTRlODAtYmVkNi0zYWYwNzI0ZTkxNTg",
      "must_resolve": true,
      "score": 3.5
    },
    {
      "id": "dXJuOm1ieHBvaTowYjM2Yjg4Yi0xN2ZjLTRhNzItYTlhOC1kNmNmZTcyOWUzNzQ",
      "result_type": "place",
      "full_name": "LAXCC",
      "short_name": "LAXCC",
      "coordinates": [
        33.96188095,
        -118.42079199
      ],
      "slugs": null,
      "address": "8332 Lincoln Blvd, Los Angeles, California 90045, United States",
      "city": "Los Angeles",
      "state": "CA",
      "postal_code": "90045",
      "country": "US",
      "timezone": "America/Los_Angeles",
      "place_id": "dXJuOm1ieHBvaTowYjM2Yjg4Yi0xN2ZjLTRhNzItYTlhOC1kNmNmZTcyOWUzNzQ",
      "must_resolve": true,
      "score": 3.5
    },
    {
      "id": "144",
      "result_type": "venue",
      "full_name": "Jacksonville Airport",
      "short_name": "Jacksonville Airport",
      "coordinates": [
        30.493133,
        -81.681026
      ],
      "slug": "/jacksonville-airport-parking/",
      "slugs": {
        "bestparking": "/jacksonville-fl-parking/destinations/jacksonville-airport-parking/",
        "parkwhiz": "/jacksonville-airport-parking/"
      },
      "city": "Jacksonville",
      "state": "FL",
      "country": "US",
      "timezone": "America/New_York",
      "place_id": "",
      "must_resolve": false,
      "score": 4
    },
    {
      "id": "93",
      "result_type": "hub",
      "full_name": "Las Vegas",
      "short_name": "Las Vegas",
      "coordinates": [
        36.17168973456615,
        -115.15045166015626
      ],
      "slug": "/p/las-vegas-parking-3/map/",
      "slugs": {
        "bestparking": "/las-vegas-nv-parking/",
        "parkwhiz": "/p/las-vegas-parking-3/map/"
      },
      "city": "Las Vegas",
      "state": "NV",
      "country": "US",
      "timezone": "America/Los_Angeles",
      "place_id": "",
      "must_resolve": false,
      "score": 7.700000000000001
    },
    {
      "id": "419",
      "result_type": "venue",
      "full_name": "Lab Theater",
      "short_name": "Lab Theater",
      "coordinates": [
        44.989735,
        -93.2749931
      ],
      "slug": "/lab-theater-parking/",
      "slugs": {
        "bestparking": "/minneapolis-parking/destinations/lab-theater-parking/",
        "parkwhiz": "/lab-theater-parking/"
      },
      "city": "Minneapolis",
      "state": "MN",
      "country": "US",
      "timezone": "America/Chicago",
      "place_id": "",
      "must_resolve": false,
      "score": 9.9
    }
  ]
}
ðŸ” Found 2 airport results out of 6 total results

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should search with real ParkWhiz and SpotHero services
ðŸ“ Found venue: LAX Airport with slug: /lax-airport-parking/
ðŸŒ Fetching HTML page: https://www.parkwhiz.com/lax-airport-parking/

stdout | src/providers/spotHero/SpotHeroProvider.integration.test.ts > SpotHeroProvider Integration Tests > searchLocations > should provide valid availability date ranges
ðŸ“Š SpotHero: Retrieved 26 results

stdout | src/providers/spotHero/SpotHeroProvider.integration.test.ts > SpotHeroProvider Integration Tests > searchLocations > should provide valid availability date ranges
âœ… SpotHero: Found 26 locations

stdout | src/providers/spotHero/SpotHeroProvider.integration.test.ts > SpotHeroProvider Integration Tests > searchLocations > should provide valid availability date ranges

âœ… All 26 locations have valid availability dates

 âœ“ src/providers/spotHero/SpotHeroProvider.integration.test.ts (5 tests) 1357ms
   âœ“ SpotHeroProvider Integration Tests > searchLocations > should fetch and normalize real SpotHero locations for ORD airport  499ms
   âœ“ SpotHeroProvider Integration Tests > searchLocations > should handle different date ranges correctly  351ms
stdout | src/providers/cheapAirportParking/mock/CheapAirportParkingMockProvider.unit.test.ts > Cheap Airport Parking Service > Basic Functionality > should prioritize shuttle service
ðŸ” Cheap Airport Parking (Mock): Searching locations... {
  airport: 'LAX',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

stdout | src/providers/cheapAirportParking/mock/CheapAirportParkingMockProvider.test.ts > Cheap Airport Parking Service > Basic Functionality > should prioritize shuttle service
ðŸ” Cheap Airport Parking (Mock): Searching locations... {
  airport: 'LAX',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > searchParkingWithMatching > should search all providers and find matches
âœ… cheap_airport_parking: Found 6 locations

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > searchParkingWithMatching > should search all providers and find matches

ðŸ“Š Total locations found: 12

ðŸ’¾ Storing locations in database...

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > searchParkingWithMatching > should search all providers and find matches
âœ… Stored 12 locations

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > searchParkingWithMatching > should search all providers and find matches

ðŸ”— Finding location matches...
âœ… Found 3 potential matches

ðŸŽ‰ Search completed in 1235ms

ðŸ“ˆ SEARCH SUMMARY
==================
Total Locations: 12
Providers Queried: 3
Matches Found: 3
Search Duration: 1235ms

ðŸ”— TOP MATCHES:
1. Joe's LAX Airport Parking
   Confidence: 65.0%
   Providers: spothero, cheap_airport_parking
   Price Range: $11.326666666666666 - $16.99/day
2. Sheraton Gateway LAX Self Park
   Confidence: 65.0%
   Providers: spothero, cheap_airport_parking
   Price Range: $12.333333333333334 - $18.5/day
3. WallyPark LAX Premium Valet
   Confidence: 65.0%
   Providers: spothero, cheap_airport_parking
   Price Range: $19.326666666666664 - $26.99/day

ðŸ“Š BY PROVIDER:
parkwhiz: 1 locations
spothero: 5 locations
cheap_airport_parking: 6 locations

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > searchParkingWithMatching > should handle empty results gracefully
ðŸ” Starting parking search for INVALID
ðŸ“… Date range: Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)

ðŸ“¡ Querying parkwhiz...
ðŸ” ParkWhiz: Searching locations... {
  airport: 'INVALID',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

ðŸ“¡ Querying spothero...
ðŸ” SpotHero (Mock): Searching locations... {
  airport: 'INVALID',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

ðŸ“¡ Querying cheap_airport_parking...
ðŸ” Cheap Airport Parking (Mock): Searching locations... {
  airport: 'INVALID',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

stdout | src/locationMatching/LocationmatchingService.unit.test.ts > LocationMatchingService - Mock Tests > findMatches > should handle single location
ðŸ” ParkWhiz: Searching locations... {
  airport: 'LAX',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

stdout | src/providers/spotHero/mock/SpotHeroMockProvider.unit.test.ts > SpotHero Service > Error Handling > should handle malformed date ranges
ðŸ” SpotHero (Mock): Searching locations... { airport: 'LAX', dates: 'Invalid Date to Invalid Date' }

stdout | src/providers/spotHero/mock/SpotHeroMockProvider.unit.test.ts > SpotHero Service > Data Validation > should return consistent data structure
ðŸ” SpotHero (Mock): Searching locations... {
  airport: 'LAX',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

stdout | src/providers/parkwhiz/ParkWhizProvider.integration.test.ts > ParkWhiz Real API End-to-End > should execute full authentication and location retrieval workflow for ORD
JSON length: 212989
First 200 chars: {"meta":{"title":"Chicago O'Hare International Airport (ORD) Parking | ParkWhiz","description":"O'Hare International Airport parking shouldn't cost you more than your flight. Save money by booking you
Last 200 chars: 10-18T22:00:00.000Z","lat":41.98056,"lng":-87.885705,"msa":"Chicago","parkingType":"Daily","postalCode":"60666","startTime":"2025-10-17T22:00:00.000Z","timezone":"America/Chicago","mobileOnly":false}}
ðŸ“Š Extracted initial state with 2 locations

stdout | src/providers/parkwhiz/ParkWhizProvider.integration.test.ts > ParkWhiz Real API End-to-End > should execute full authentication and location retrieval workflow for ORD
âœ… ParkWhiz Real: Retrieved 2 locations for ORD

stdout | src/providers/parkwhiz/ParkWhizProvider.integration.test.ts > ParkWhiz Real API End-to-End > should execute full authentication and location retrieval workflow for ORD
âœ… Retrieved 2 locations for ORD
ðŸ” First location structure keys: [
  'id',             'name',
  'address1',       'city',
  'state',          'country',
  'currency',       'postal_code',
  'description',    'timezone',
  'msa',            'site_url',
  'rating_summary', 'entrances',
  'photos',         'sellerId'
]

ðŸ“ Detailed ORD location data:

1. Loews Chicago O'Hare Hotel Garage
   ID: 15012
   Address: 5272 N. River Rd.
   Coordinates: [41.9739278, -87.8624834]
   Price: $0.00
   Distance: 6761 feet from airport

2. Easy Airport Parking ORD - Valet
   ID: 4576
   Address: 4000 N. Mannheim Rd.
   Coordinates: [41.95195827764794, -87.88580775260927]
   Price: $0.00
   Distance: 10422 feet from airport

ðŸ“„ Saved ORD locations to: /workspace/outputs/ORD_parkwhiz_locations_2025-10-17.json

stdout | src/providers/parkwhiz/ParkWhizProvider.integration.test.ts > ParkWhiz Real API End-to-End > should execute full workflow for LAX airport
ðŸš€ Starting end-to-end ParkWhiz API test for LAX...
ðŸŒ ParkWhiz Real: Getting locations for LAX...
ðŸ” Getting bearer token...

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should search with real ParkWhiz and SpotHero services
ðŸ“„ Cheap Airport Parking: Retrieved HTML response (244253 characters)
ðŸ“Š Cheap Airport Parking: Parsed 52 locations

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should search with real ParkWhiz and SpotHero services
ðŸ“ Cheap Airport Parking: Fetching address details for 52 locations in batches of 5...
  ðŸ“¦ Processing batch 1/11 (5 locations)...

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should match locations with real ParkWhiz and SpotHero providers
ðŸ“„ Cheap Airport Parking: Retrieved HTML response (275742 characters)
ðŸ“Š Cheap Airport Parking: Parsed 52 locations

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should match locations with real ParkWhiz and SpotHero providers
ðŸ“ Cheap Airport Parking: Fetching address details for 52 locations in batches of 5...
  ðŸ“¦ Processing batch 1/11 (5 locations)...

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should fetch and normalize real Cheap Airport Parking locations for ORD airport
  ðŸ“¦ Processing batch 2/2 (2 locations)...

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > searchParkingWithMatching > should handle empty results gracefully
âœ… cheap_airport_parking: Found 0 locations

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > searchParkingWithMatching > should handle empty results gracefully
âœ… spothero: Found 0 locations

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should search with real ParkWhiz and SpotHero services
JSON length: 411012
First 200 chars: {"meta":{"title":"Los Angeles International Airport (LAX) Parking | ParkWhiz","description":"Los Angeles International Airport parking shouldn't cost you more than your flight. Save money by booking y
Last 200 chars: :33.94240029061568,"lng":-118.40766429908399,"msa":"Los Angeles","parkingType":"Daily","postalCode":"90045","startTime":"2025-10-17T22:00:00.000Z","timezone":"America/Los_Angeles","mobileOnly":false}}
ðŸ“Š Extracted initial state with 16 locations

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should search with real ParkWhiz and SpotHero services
âœ… ParkWhiz Real: Retrieved 16 locations for LAX

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should match locations with real ParkWhiz and SpotHero providers
JSON length: 411012
First 200 chars: {"meta":{"title":"Los Angeles International Airport (LAX) Parking | ParkWhiz","description":"Los Angeles International Airport parking shouldn't cost you more than your flight. Save money by booking y
Last 200 chars: :33.94240029061568,"lng":-118.40766429908399,"msa":"Los Angeles","parkingType":"Daily","postalCode":"90045","startTime":"2025-10-17T22:00:00.000Z","timezone":"America/Los_Angeles","mobileOnly":false}}
ðŸ“Š Extracted initial state with 16 locations

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should match locations with real ParkWhiz and SpotHero providers
âœ… ParkWhiz Real: Retrieved 16 locations for LAX

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should search with real ParkWhiz and SpotHero services
âœ… parkwhiz: Found 10 locations

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should match locations with real ParkWhiz and SpotHero providers
âœ… parkwhiz: Found 0 locations

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should search with real ParkWhiz and SpotHero services
âœ… parkwhiz: Found 10 locations

stdout | src/providers/parkwhiz/ParkWhizProvider.integration.test.ts > ParkWhiz Real API End-to-End > should execute full workflow for LAX airport
âœ… Bearer token extracted successfully

stdout | src/providers/parkwhiz/ParkWhizProvider.integration.test.ts > ParkWhiz Real API End-to-End > should execute full workflow for LAX airport
âœ… Bearer token obtained
ðŸŒ Calling authenticated autocomplete API: https://api.parkwhiz.com/internal/v1/autocomplete/?term=LAX&results=6&country=us%2Cca&cohort=control

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > searchParkingWithMatching > should handle empty results gracefully
âœ… parkwhiz: Found 0 locations

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > searchParkingWithMatching > should handle empty results gracefully

ðŸ“Š Total locations found: 0

ðŸ’¾ Storing locations in database...
âœ… Stored 0 locations

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > searchParkingWithMatching > should handle empty results gracefully

ðŸ”— Finding location matches...
âœ… Found 0 potential matches

ðŸŽ‰ Search completed in 804ms

ðŸ“ˆ SEARCH SUMMARY
==================
Total Locations: 0
Providers Queried: 3
Matches Found: 0
Search Duration: 804ms

ðŸ“Š BY PROVIDER:

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > searchParkingWithMatching > should store locations in database
ðŸ” Starting parking search for LAX
ðŸ“… Date range: Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)

ðŸ“¡ Querying parkwhiz...
ðŸ” ParkWhiz: Searching locations... {
  airport: 'LAX',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

ðŸ“¡ Querying spothero...
ðŸ” SpotHero (Mock): Searching locations... {
  airport: 'LAX',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

ðŸ“¡ Querying cheap_airport_parking...
ðŸ” Cheap Airport Parking (Mock): Searching locations... {
  airport: 'LAX',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

stdout | src/providers/spotHero/mock/SpotHeroMockProvider.unit.test.ts > SpotHero Service > Data Validation > should have reasonable price ranges
ðŸ” SpotHero (Mock): Searching locations... {
  airport: 'LAX',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

stdout | src/providers/parkwhiz/ParkWhizProvider.integration.test.ts > ParkWhiz Real API End-to-End > should execute full workflow for LAX airport
ðŸ“Š Autocomplete response: {
  "autocomplete": [
    {
      "id": "12",
      "result_type": "venue",
      "full_name": "LAX Airport",
      "short_name": "LAX Airport",
      "coordinates": [
        33.94240029061568,
        -118.40766429908399
      ],
      "slug": "/lax-airport-parking/",
      "slugs": {
        "bestparking": "/los-angeles-ca-parking/destinations/lax-airport-parking/",
        "parkwhiz": "/lax-airport-parking/"
      },
      "city": "Los Angeles",
      "state": "CA",
      "country": "US",
      "timezone": "America/Los_Angeles",
      "place_id": "",
      "must_resolve": false,
      "score": 0
    },
    {
      "id": "dXJuOm1ieHBvaTo4MjAwYTc0My00ZTFiLTRlODAtYmVkNi0zYWYwNzI0ZTkxNTg",
      "result_type": "place",
      "full_name": "LAX-C",
      "short_name": "LAX-C",
      "coordinates": [
        34.063335,
        -118.232791
      ],
      "slugs": null,
      "address": "1100 N Main St, Los Angeles, California 90012, United States",
      "city": "Los Angeles",
      "state": "CA",
      "postal_code": "90012",
      "country": "US",
      "timezone": "America/Los_Angeles",
      "place_id": "dXJuOm1ieHBvaTo4MjAwYTc0My00ZTFiLTRlODAtYmVkNi0zYWYwNzI0ZTkxNTg",
      "must_resolve": true,
      "score": 3.5
    },
    {
      "id": "dXJuOm1ieHBvaTowYjM2Yjg4Yi0xN2ZjLTRhNzItYTlhOC1kNmNmZTcyOWUzNzQ",
      "result_type": "place",
      "full_name": "LAXCC",
      "short_name": "LAXCC",
      "coordinates": [
        33.96188095,
        -118.42079199
      ],
      "slugs": null,
      "address": "8332 Lincoln Blvd, Los Angeles, California 90045, United States",
      "city": "Los Angeles",
      "state": "CA",
      "postal_code": "90045",
      "country": "US",
      "timezone": "America/Los_Angeles",
      "place_id": "dXJuOm1ieHBvaTowYjM2Yjg4Yi0xN2ZjLTRhNzItYTlhOC1kNmNmZTcyOWUzNzQ",
      "must_resolve": true,
      "score": 3.5
    },
    {
      "id": "144",
      "result_type": "venue",
      "full_name": "Jacksonville Airport",
      "short_name": "Jacksonville Airport",
      "coordinates": [
        30.493133,
        -81.681026
      ],
      "slug": "/jacksonville-airport-parking/",
      "slugs": {
        "bestparking": "/jacksonville-fl-parking/destinations/jacksonville-airport-parking/",
        "parkwhiz": "/jacksonville-airport-parking/"
      },
      "city": "Jacksonville",
      "state": "FL",
      "country": "US",
      "timezone": "America/New_York",
      "place_id": "",
      "must_resolve": false,
      "score": 4
    },
    {
      "id": "93",
      "result_type": "hub",
      "full_name": "Las Vegas",
      "short_name": "Las Vegas",
      "coordinates": [
        36.17168973456615,
        -115.15045166015626
      ],
      "slug": "/p/las-vegas-parking-3/map/",
      "slugs": {
        "bestparking": "/las-vegas-nv-parking/",
        "parkwhiz": "/p/las-vegas-parking-3/map/"
      },
      "city": "Las Vegas",
      "state": "NV",
      "country": "US",
      "timezone": "America/Los_Angeles",
      "place_id": "",
      "must_resolve": false,
      "score": 7.700000000000001
    },
    {
      "id": "419",
      "result_type": "venue",
      "full_name": "Lab Theater",
      "short_name": "Lab Theater",
      "coordinates": [
        44.989735,
        -93.2749931
      ],
      "slug": "/lab-theater-parking/",
      "slugs": {
        "bestparking": "/minneapolis-parking/destinations/lab-theater-parking/",
        "parkwhiz": "/lab-theater-parking/"
      },
      "city": "Minneapolis",
      "state": "MN",
      "country": "US",
      "timezone": "America/Chicago",
      "place_id": "",
      "must_resolve": false,
      "score": 9.9
    }
  ]
}
ðŸ” Found 2 airport results out of 6 total results

stdout | src/providers/parkwhiz/ParkWhizProvider.integration.test.ts > ParkWhiz Real API End-to-End > should execute full workflow for LAX airport
ðŸ“ Found venue: LAX Airport with slug: /lax-airport-parking/
ðŸŒ Fetching HTML page: https://www.parkwhiz.com/lax-airport-parking/

stdout | src/locationMatching/LocationmatchingService.unit.test.ts > LocationMatchingService - Mock Tests > performance with mock data > should handle large datasets efficiently
ðŸ” ParkWhiz: Searching locations... {
  airport: 'LAX',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}
ðŸ” SpotHero (Mock): Searching locations... {
  airport: 'LAX',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}
ðŸ” Cheap Airport Parking (Mock): Searching locations... {
  airport: 'LAX',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

stdout | src/providers/cheapAirportParking/mock/CheapAirportParkingMockProvider.unit.test.ts > Cheap Airport Parking Service > Error Handling > should handle invalid airport codes gracefully
ðŸ” Cheap Airport Parking (Mock): Searching locations... {
  airport: 'INVALID',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

stdout | src/providers/cheapAirportParking/mock/CheapAirportParkingMockProvider.test.ts > Cheap Airport Parking Service > Error Handling > should handle invalid airport codes gracefully
ðŸ” Cheap Airport Parking (Mock): Searching locations... {
  airport: 'INVALID',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should fetch and normalize real Cheap Airport Parking locations for ORD airport
âœ… Cheap Airport Parking: Found 7 locations

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should fetch and normalize real Cheap Airport Parking locations for ORD airport

âœ… Sample Cheap Airport Parking Location (ORD):
{
  "provider_id": "273",
  "provider": "cheap_airport_parking",
  "name": "Hyatt Place O'hare",
  "address": {
    "street": "6810 Mannheim Road",
    "city": "Rosemont",
    "state": "IL",
    "zip": "60018",
    "full_address": "6810 Mannheim Road, Rosemont, IL, 60018"
  },
  "coordinates": {
    "latitude": 42.002622,
    "longitude": -87.885198
  },
  "pricing": {
    "daily_rate": 23.9375,
    "currency": "USD"
  },
  "amenities": [
    "shuttle",
    "self-park"
  ],
  "availability": true,
  "available_from": "2025-10-18T12:00:00.000Z",
  "available_until": "2025-10-22T12:00:00.000Z",
  "shuttle_service": true,
  "valet_service": false,
  "covered_parking": false,
  "provider_data": {
    "lot_id": "181",
    "park_id": "273",
    "parking_type": "Outdoor Self Parking",
    "total_price": 95.75,
    "review_count": 48,
    "shuttle_info": "88% Recommend \n\t\t\t\t\t\t\t48 reviews\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tFree shuttle 6am to 1pm and 4pm to 8pm",
    "image_url": "/img/parking/img-ORD/hyatt-place-icon.jpg",
    "original_data": {
      "lot_id": "181",
      "park_id": "273",
      "name": "Hyatt Place O'hare",
      "parking_type": "Outdoor Self Parking",
      "latitude": 42.002622,
      "longitude": -87.885198,
      "total_price": 95.75,
      "is_available": true,
      "review_count": 48,
      "shuttle_info": "88% Recommend \n\t\t\t\t\t\t\t48 reviews\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tFree shuttle 6am to 1pm and 4pm to 8pm",
      "amenities": [
        "shuttle",
        "self-park"
      ],
      "image_url": "/img/parking/img-ORD/hyatt-place-icon.jpg",
      "address": {
        "street": "6810 Mannheim Road",
        "city": "Rosemont",
        "state": "IL",
        "zip": "60018",
        "full_address": "6810 Mannheim Road, Rosemont, IL, 60018"
      }
    }
  }
}

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should fetch and normalize real Cheap Airport Parking locations for LAX airport
ðŸ” Cheap Airport Parking: Searching locations... { airport: 'LAX', dates: '2025-10-20T09:00:00 to 2025-10-25T09:00:00' }
ðŸŒ Cheap Airport Parking: Fetching from API: https://www.cheapairportparking.org/parking/find.php?airport=LAX&FromDate=10%2F20%2F2025&from_time=9&ToDate=10%2F25%2F2025&to_time=9

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > searchParkingWithMatching > should store locations in database
âœ… spothero: Found 5 locations

stdout | src/providers/spotHero/mock/SpotHeroMockProvider.unit.test.ts > SpotHero Service > Data Validation > should have valid coordinates when provided
ðŸ” SpotHero (Mock): Searching locations... {
  airport: 'LAX',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

stdout | src/providers/cheapAirportParking/mock/CheapAirportParkingMockProvider.unit.test.ts > Cheap Airport Parking Service > Error Handling > should handle malformed date ranges
ðŸ” Cheap Airport Parking (Mock): Searching locations... { airport: 'LAX', dates: 'Invalid Date to Invalid Date' }

stdout | src/providers/cheapAirportParking/mock/CheapAirportParkingMockProvider.unit.test.ts > Cheap Airport Parking Service > Data Validation > should return consistent data structure
ðŸ” Cheap Airport Parking (Mock): Searching locations... {
  airport: 'LAX',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

stdout | src/providers/cheapAirportParking/mock/CheapAirportParkingMockProvider.test.ts > Cheap Airport Parking Service > Error Handling > should handle malformed date ranges
ðŸ” Cheap Airport Parking (Mock): Searching locations... { airport: 'LAX', dates: 'Invalid Date to Invalid Date' }

stdout | src/providers/cheapAirportParking/mock/CheapAirportParkingMockProvider.test.ts > Cheap Airport Parking Service > Data Validation > should return consistent data structure
ðŸ” Cheap Airport Parking (Mock): Searching locations... {
  airport: 'LAX',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should search with real ParkWhiz and SpotHero services
  ðŸ“¦ Processing batch 2/11 (5 locations)...

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > searchParkingWithMatching > should store locations in database
âœ… parkwhiz: Found 1 locations

stdout | src/providers/parkwhiz/ParkWhizProvider.integration.test.ts > ParkWhiz Real API End-to-End > should execute full workflow for LAX airport
JSON length: 411012
First 200 chars: {"meta":{"title":"Los Angeles International Airport (LAX) Parking | ParkWhiz","description":"Los Angeles International Airport parking shouldn't cost you more than your flight. Save money by booking y
Last 200 chars: :33.94240029061568,"lng":-118.40766429908399,"msa":"Los Angeles","parkingType":"Daily","postalCode":"90045","startTime":"2025-10-17T22:00:00.000Z","timezone":"America/Los_Angeles","mobileOnly":false}}
ðŸ“Š Extracted initial state with 16 locations

stdout | src/providers/parkwhiz/ParkWhizProvider.integration.test.ts > ParkWhiz Real API End-to-End > should execute full workflow for LAX airport
âœ… ParkWhiz Real: Retrieved 16 locations for LAX

stdout | src/providers/parkwhiz/ParkWhizProvider.integration.test.ts > ParkWhiz Real API End-to-End > should execute full workflow for LAX airport
âœ… Retrieved 16 locations for LAX

ðŸ“ Detailed LAX location data:

1. Embassy Suites LAX
   ID: 12043
   Address: 1440 E. Imperial Ave.
   Coordinates: [33.93077588571933, -118.40074717998506]
   Price: $11.53
   Distance: 4722 feet from airport

2. Joe's Airport Parking LAX
   ID: 10755
   Address: 6151 W. Century Blvd.
   Coordinates: [33.94567694669231, -118.39248892691104]
   Price: $18.58
   Distance: 4753 feet from airport

3. Sheraton Gateway Parking LAX - Valet
   ID: 60204
   Address: 6101 W. Century Blvd.
   Coordinates: [33.94597315212469, -118.39020609855653]
   Price: $21.20
   Distance: 5451 feet from airport

4. 909 N. Pacific Coast Hwy. Garage LAX
   ID: 58467
   Address: 909 N. Pacific Coast Hwy.
   Coordinates: [33.93016513314915, -118.39638590812685]
   Price: $8.67
   Distance: 5614 feet from airport

5. Samâ€™s Parking LAX - Valet
   ID: 9299
   Address: 8923 S. Sepulveda Blvd.
   Coordinates: [33.95502, -118.39645]
   Price: $35.95
   Distance: 5713 feet from airport

ðŸ“„ Saved LAX locations to: /workspace/outputs/LAX_parkwhiz_locations_2025-10-17.json

 âœ“ src/providers/parkwhiz/ParkWhizProvider.integration.test.ts (2 tests) 3216ms
   âœ“ ParkWhiz Real API End-to-End > should execute full authentication and location retrieval workflow for ORD  1884ms
   âœ“ ParkWhiz Real API End-to-End > should execute full workflow for LAX airport  1331ms
stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should match locations with real ParkWhiz and SpotHero providers
  ðŸ“¦ Processing batch 2/11 (5 locations)...

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > searchParkingWithMatching > should store locations in database
âœ… cheap_airport_parking: Found 6 locations

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > searchParkingWithMatching > should store locations in database

ðŸ“Š Total locations found: 12

ðŸ’¾ Storing locations in database...

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > searchParkingWithMatching > should store locations in database
âœ… Stored 12 locations

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > searchParkingWithMatching > should store locations in database

ðŸ”— Finding location matches...
âœ… Found 3 potential matches

ðŸŽ‰ Search completed in 1187ms

ðŸ“ˆ SEARCH SUMMARY
==================
Total Locations: 12
Providers Queried: 3
Matches Found: 3
Search Duration: 1187ms

ðŸ”— TOP MATCHES:
1. Joe's LAX Airport Parking
   Confidence: 65.0%
   Providers: spothero, cheap_airport_parking
   Price Range: $11.326666666666666 - $16.99/day
2. Sheraton Gateway LAX Self Park
   Confidence: 65.0%
   Providers: spothero, cheap_airport_parking
   Price Range: $12.333333333333334 - $18.5/day
3. WallyPark LAX Premium Valet
   Confidence: 65.0%
   Providers: spothero, cheap_airport_parking
   Price Range: $19.326666666666664 - $26.99/day

ðŸ“Š BY PROVIDER:
parkwhiz: 1 locations
spothero: 5 locations
cheap_airport_parking: 6 locations

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > error handling > should handle provider failures gracefully
ðŸ” Starting parking search for LAX
ðŸ“… Date range: Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)

ðŸ“¡ Querying parkwhiz...
ðŸ” ParkWhiz: Searching locations... {
  airport: 'LAX',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

ðŸ“¡ Querying spothero...
ðŸ” SpotHero (Mock): Searching locations... {
  airport: 'LAX',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

ðŸ“¡ Querying cheap_airport_parking...
ðŸ” Cheap Airport Parking (Mock): Searching locations... {
  airport: 'LAX',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

 âœ“ src/providers/spotHero/mock/SpotHeroMockProvider.unit.test.ts (7 tests) 3619ms
   âœ“ SpotHero Service > Basic Functionality > should return locations for valid airport  604ms
   âœ“ SpotHero Service > Basic Functionality > should properly normalize amenities through the API  602ms
   âœ“ SpotHero Service > Error Handling > should handle invalid airport codes gracefully  600ms
   âœ“ SpotHero Service > Data Validation > should return consistent data structure  604ms
   âœ“ SpotHero Service > Data Validation > should have reasonable price ranges  604ms
   âœ“ SpotHero Service > Data Validation > should have valid coordinates when provided  602ms
stdout | src/locationMatching/LocationmatchingService.unit.test.ts > LocationMatchingService - Mock Tests > performance with mock data > should handle large datasets efficiently
Mock matching completed in 5ms for 12 locations, found 3 matches

 âœ“ src/locationMatching/LocationmatchingService.unit.test.ts (6 tests) 3405ms
   âœ“ LocationMatchingService - Mock Tests > findMatches > should match locations with similar names  1409ms
   âœ“ LocationMatchingService - Mock Tests > findMatches > should handle single location  801ms
   âœ“ LocationMatchingService - Mock Tests > performance with mock data > should handle large datasets efficiently  1191ms
stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > error handling > should handle provider failures gracefully
âœ… spothero: Found 5 locations

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should search with real ParkWhiz and SpotHero services
  ðŸ“¦ Processing batch 3/11 (5 locations)...

stdout | src/providers/cheapAirportParking/mock/CheapAirportParkingMockProvider.unit.test.ts > Cheap Airport Parking Service > Data Validation > should return consistent data structure

ðŸ” Testing 6 CAP mock locations:

Location 1: QuikPark LAX Budget
  Address: 5959 W Century Blvd, Los Angeles, CA, 90045
  Coordinates: 33.9463, -118.3944
  Price: $22.95/day

Location 2: Embassy Suites Economy LAX
  Address: 9801 Airport Blvd, Los Angeles, CA, 90045
  Coordinates: 33.9307, -118.4009
  Price: $11.5/day

Location 3: Joe's Budget Airport Parking
  Address: 6151 W Century Blvd, Los Angeles, CA, 90045
  Coordinates: 33.9456, -118.3926
  Price: $16.99/day

Location 4: Sheraton Gateway Budget LAX
  Address: 6101 W Century Blvd, Los Angeles, CA, 90045
  Coordinates: 33.946, -118.3901
  Price: $18.5/day

Location 5: Pacific Coast Budget Garage
  Address: 9750 Airport Blvd, Los Angeles, CA, 90045
  Coordinates: 33.9301, -118.3965
  Price: $8.95/day

Location 6: WallyPark LAX Budget
  Address: 9700 Bellanca Ave, Los Angeles, CA, 90045
  Coordinates: 33.9384, -118.4088
  Price: $26.99/day

stdout | src/providers/cheapAirportParking/mock/CheapAirportParkingMockProvider.unit.test.ts > Cheap Airport Parking Service > Data Validation > should have reasonable budget-friendly price ranges
ðŸ” Cheap Airport Parking (Mock): Searching locations... {
  airport: 'LAX',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

stdout | src/providers/cheapAirportParking/mock/CheapAirportParkingMockProvider.test.ts > Cheap Airport Parking Service > Data Validation > should return consistent data structure

ðŸ” Testing 6 CAP mock locations:

Location 1: QuikPark LAX Budget
  Address: 5959 W Century Blvd, Los Angeles, CA, 90045
  Coordinates: 33.9463, -118.3944
  Price: $22.95/day

Location 2: Embassy Suites Economy LAX
  Address: 9801 Airport Blvd, Los Angeles, CA, 90045
  Coordinates: 33.9307, -118.4009
  Price: $11.5/day

Location 3: Joe's Budget Airport Parking
  Address: 6151 W Century Blvd, Los Angeles, CA, 90045
  Coordinates: 33.9456, -118.3926
  Price: $16.99/day

Location 4: Sheraton Gateway Budget LAX
  Address: 6101 W Century Blvd, Los Angeles, CA, 90045
  Coordinates: 33.946, -118.3901
  Price: $18.5/day

Location 5: Pacific Coast Budget Garage
  Address: 9750 Airport Blvd, Los Angeles, CA, 90045
  Coordinates: 33.9301, -118.3965
  Price: $8.95/day

Location 6: WallyPark LAX Budget
  Address: 9700 Bellanca Ave, Los Angeles, CA, 90045
  Coordinates: 33.9384, -118.4088
  Price: $26.99/day

stdout | src/providers/cheapAirportParking/mock/CheapAirportParkingMockProvider.test.ts > Cheap Airport Parking Service > Data Validation > should have reasonable budget-friendly price ranges
ðŸ” Cheap Airport Parking (Mock): Searching locations... {
  airport: 'LAX',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > error handling > should handle provider failures gracefully
âœ… parkwhiz: Found 1 locations

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should fetch and normalize real Cheap Airport Parking locations for LAX airport
ðŸ“„ Cheap Airport Parking: Retrieved HTML response (283366 characters)
ðŸ“Š Cheap Airport Parking: Parsed 52 locations

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should fetch and normalize real Cheap Airport Parking locations for LAX airport
ðŸ“ Cheap Airport Parking: Fetching address details for 52 locations in batches of 5...
  ðŸ“¦ Processing batch 1/11 (5 locations)...

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should match locations with real ParkWhiz and SpotHero providers
  ðŸ“¦ Processing batch 3/11 (5 locations)...

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > error handling > should handle provider failures gracefully
âœ… cheap_airport_parking: Found 6 locations

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > error handling > should handle provider failures gracefully

ðŸ“Š Total locations found: 12

ðŸ’¾ Storing locations in database...

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > error handling > should handle provider failures gracefully
âœ… Stored 12 locations

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > error handling > should handle provider failures gracefully

ðŸ”— Finding location matches...
âœ… Found 3 potential matches

ðŸŽ‰ Search completed in 1181ms

ðŸ“ˆ SEARCH SUMMARY
==================
Total Locations: 12
Providers Queried: 3
Matches Found: 3
Search Duration: 1181ms

ðŸ”— TOP MATCHES:
1. Joe's LAX Airport Parking
   Confidence: 65.0%
   Providers: spothero, cheap_airport_parking
   Price Range: $11.326666666666666 - $16.99/day
2. Sheraton Gateway LAX Self Park
   Confidence: 65.0%
   Providers: spothero, cheap_airport_parking
   Price Range: $12.333333333333334 - $18.5/day
3. WallyPark LAX Premium Valet
   Confidence: 65.0%
   Providers: spothero, cheap_airport_parking
   Price Range: $19.326666666666664 - $26.99/day

ðŸ“Š BY PROVIDER:
parkwhiz: 1 locations
spothero: 5 locations
cheap_airport_parking: 6 locations

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > error handling > should handle provider failures
ðŸ” Starting parking search for NONEXISTENT
ðŸ“… Date range: Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)

ðŸ“¡ Querying parkwhiz...
ðŸ” ParkWhiz: Searching locations... {
  airport: 'NONEXISTENT',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

ðŸ“¡ Querying spothero...
ðŸ” SpotHero (Mock): Searching locations... {
  airport: 'NONEXISTENT',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

ðŸ“¡ Querying cheap_airport_parking...
ðŸ” Cheap Airport Parking (Mock): Searching locations... {
  airport: 'NONEXISTENT',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > error handling > should handle provider failures
âœ… cheap_airport_parking: Found 0 locations

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should search with real ParkWhiz and SpotHero services
  ðŸ“¦ Processing batch 4/11 (5 locations)...

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > error handling > should handle provider failures
âœ… spothero: Found 0 locations

stdout | src/providers/cheapAirportParking/mock/CheapAirportParkingMockProvider.unit.test.ts > Cheap Airport Parking Service > Data Validation > should have valid coordinates when provided
ðŸ” Cheap Airport Parking (Mock): Searching locations... {
  airport: 'LAX',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

stdout | src/providers/cheapAirportParking/mock/CheapAirportParkingMockProvider.test.ts > Cheap Airport Parking Service > Data Validation > should have valid coordinates when provided
ðŸ” Cheap Airport Parking (Mock): Searching locations... {
  airport: 'LAX',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > error handling > should handle provider failures
âœ… parkwhiz: Found 0 locations

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > error handling > should handle provider failures

ðŸ“Š Total locations found: 0

ðŸ’¾ Storing locations in database...
âœ… Stored 0 locations

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > error handling > should handle provider failures

ðŸ”— Finding location matches...
âœ… Found 0 potential matches

ðŸŽ‰ Search completed in 806ms

ðŸ“ˆ SEARCH SUMMARY
==================
Total Locations: 0
Providers Queried: 3
Matches Found: 0
Search Duration: 806ms

ðŸ“Š BY PROVIDER:

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > performance > should complete searches within reasonable time
ðŸ” Starting parking search for LAX
ðŸ“… Date range: Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)

ðŸ“¡ Querying parkwhiz...
ðŸ” ParkWhiz: Searching locations... {
  airport: 'LAX',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

ðŸ“¡ Querying spothero...
ðŸ” SpotHero (Mock): Searching locations... {
  airport: 'LAX',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

ðŸ“¡ Querying cheap_airport_parking...
ðŸ” Cheap Airport Parking (Mock): Searching locations... {
  airport: 'LAX',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should fetch and normalize real Cheap Airport Parking locations for LAX airport
  ðŸ“¦ Processing batch 2/11 (5 locations)...

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should match locations with real ParkWhiz and SpotHero providers
  ðŸ“¦ Processing batch 4/11 (5 locations)...

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > performance > should complete searches within reasonable time
âœ… spothero: Found 5 locations

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > performance > should complete searches within reasonable time
âœ… parkwhiz: Found 1 locations

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should search with real ParkWhiz and SpotHero services
  ðŸ“¦ Processing batch 5/11 (5 locations)...

stdout | src/providers/cheapAirportParking/mock/CheapAirportParkingMockProvider.unit.test.ts > Cheap Airport Parking Service > Data Validation > should focus on budget-friendly options
ðŸ” Cheap Airport Parking (Mock): Searching locations... {
  airport: 'LAX',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

stdout | src/providers/cheapAirportParking/mock/CheapAirportParkingMockProvider.test.ts > Cheap Airport Parking Service > Data Validation > should focus on budget-friendly options
ðŸ” Cheap Airport Parking (Mock): Searching locations... {
  airport: 'LAX',
  dates: 'Fri Dec 20 2024 10:00:00 GMT+0000 (Coordinated Universal Time) to Fri Dec 20 2024 18:00:00 GMT+0000 (Coordinated Universal Time)'
}

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > performance > should complete searches within reasonable time
âœ… cheap_airport_parking: Found 6 locations

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > performance > should complete searches within reasonable time

ðŸ“Š Total locations found: 12

ðŸ’¾ Storing locations in database...

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > performance > should complete searches within reasonable time
âœ… Stored 12 locations

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > performance > should complete searches within reasonable time

ðŸ”— Finding location matches...
âœ… Found 3 potential matches

ðŸŽ‰ Search completed in 1192ms

ðŸ“ˆ SEARCH SUMMARY
==================
Total Locations: 12
Providers Queried: 3
Matches Found: 3
Search Duration: 1192ms

ðŸ”— TOP MATCHES:
1. Joe's LAX Airport Parking
   Confidence: 65.0%
   Providers: spothero, cheap_airport_parking
   Price Range: $11.326666666666666 - $16.99/day
2. Sheraton Gateway LAX Self Park
   Confidence: 65.0%
   Providers: spothero, cheap_airport_parking
   Price Range: $12.333333333333334 - $18.5/day
3. WallyPark LAX Premium Valet
   Confidence: 65.0%
   Providers: spothero, cheap_airport_parking
   Price Range: $19.326666666666664 - $26.99/day

ðŸ“Š BY PROVIDER:
parkwhiz: 1 locations
spothero: 5 locations
cheap_airport_parking: 6 locations

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > data validation > should validate search parameters
ðŸ” Starting parking search for 
ðŸ“… Date range:  to 

ðŸ“¡ Querying parkwhiz...
ðŸ” ParkWhiz: Searching locations... { airport: '', dates: ' to ' }

ðŸ“¡ Querying spothero...
ðŸ” SpotHero (Mock): Searching locations... { airport: '', dates: ' to ' }

ðŸ“¡ Querying cheap_airport_parking...
ðŸ” Cheap Airport Parking (Mock): Searching locations... { airport: '', dates: ' to ' }

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should fetch and normalize real Cheap Airport Parking locations for LAX airport
  ðŸ“¦ Processing batch 3/11 (5 locations)...

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should match locations with real ParkWhiz and SpotHero providers
  ðŸ“¦ Processing batch 5/11 (5 locations)...

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > data validation > should validate search parameters
âœ… cheap_airport_parking: Found 0 locations

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > data validation > should validate search parameters
âœ… spothero: Found 0 locations

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > data validation > should validate search parameters
âœ… parkwhiz: Found 0 locations

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > data validation > should validate search parameters

ðŸ“Š Total locations found: 0

ðŸ’¾ Storing locations in database...
âœ… Stored 0 locations

stdout | src/aggregation/ParkingAggregationService.unit.test.ts > ParkingAggregationService - Mock Tests > data validation > should validate search parameters

ðŸ”— Finding location matches...
âœ… Found 0 potential matches

ðŸŽ‰ Search completed in 804ms

ðŸ“ˆ SEARCH SUMMARY
==================
Total Locations: 0
Providers Queried: 3
Matches Found: 0
Search Duration: 804ms

ðŸ“Š BY PROVIDER:

 âœ“ src/aggregation/ParkingAggregationService.unit.test.ts (9 tests) 7221ms
   âœ“ ParkingAggregationService - Mock Tests > searchParkingWithMatching > should search all providers and find matches  1237ms
   âœ“ ParkingAggregationService - Mock Tests > searchParkingWithMatching > should handle empty results gracefully  807ms
   âœ“ ParkingAggregationService - Mock Tests > searchParkingWithMatching > should store locations in database  1188ms
   âœ“ ParkingAggregationService - Mock Tests > error handling > should handle provider failures gracefully  1182ms
   âœ“ ParkingAggregationService - Mock Tests > error handling > should handle provider failures  808ms
   âœ“ ParkingAggregationService - Mock Tests > performance > should complete searches within reasonable time  1194ms
   âœ“ ParkingAggregationService - Mock Tests > data validation > should validate search parameters  805ms
stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should search with real ParkWhiz and SpotHero services
  ðŸ“¦ Processing batch 6/11 (5 locations)...

 âœ“ src/providers/cheapAirportParking/mock/CheapAirportParkingMockProvider.unit.test.ts (8 tests) 7420ms
   âœ“ Cheap Airport Parking Service > Basic Functionality > should return locations for valid airport  1201ms
   âœ“ Cheap Airport Parking Service > Basic Functionality > should prioritize shuttle service  1151ms
   âœ“ Cheap Airport Parking Service > Error Handling > should handle invalid airport codes gracefully  507ms
   âœ“ Cheap Airport Parking Service > Data Validation > should return consistent data structure  1156ms
   âœ“ Cheap Airport Parking Service > Data Validation > should have reasonable budget-friendly price ranges  1136ms
   âœ“ Cheap Airport Parking Service > Data Validation > should have valid coordinates when provided  1140ms
   âœ“ Cheap Airport Parking Service > Data Validation > should focus on budget-friendly options  1127ms
 âœ“ src/providers/cheapAirportParking/mock/CheapAirportParkingMockProvider.test.ts (8 tests) 7442ms
   âœ“ Cheap Airport Parking Service > Basic Functionality > should return locations for valid airport  1198ms
   âœ“ Cheap Airport Parking Service > Basic Functionality > should prioritize shuttle service  1160ms
   âœ“ Cheap Airport Parking Service > Error Handling > should handle invalid airport codes gracefully  504ms
   âœ“ Cheap Airport Parking Service > Data Validation > should return consistent data structure  1155ms
   âœ“ Cheap Airport Parking Service > Data Validation > should have reasonable budget-friendly price ranges  1144ms
   âœ“ Cheap Airport Parking Service > Data Validation > should have valid coordinates when provided  1143ms
   âœ“ Cheap Airport Parking Service > Data Validation > should focus on budget-friendly options  1134ms
stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should match locations with real ParkWhiz and SpotHero providers
  ðŸ“¦ Processing batch 6/11 (5 locations)...

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should fetch and normalize real Cheap Airport Parking locations for LAX airport
  ðŸ“¦ Processing batch 4/11 (5 locations)...

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should search with real ParkWhiz and SpotHero services
  ðŸ“¦ Processing batch 7/11 (5 locations)...

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should fetch and normalize real Cheap Airport Parking locations for LAX airport
  ðŸ“¦ Processing batch 5/11 (5 locations)...

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should match locations with real ParkWhiz and SpotHero providers
  ðŸ“¦ Processing batch 7/11 (5 locations)...

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should search with real ParkWhiz and SpotHero services
  ðŸ“¦ Processing batch 8/11 (5 locations)...

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should fetch and normalize real Cheap Airport Parking locations for LAX airport
  ðŸ“¦ Processing batch 6/11 (5 locations)...

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should match locations with real ParkWhiz and SpotHero providers
  ðŸ“¦ Processing batch 8/11 (5 locations)...

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should search with real ParkWhiz and SpotHero services
  ðŸ“¦ Processing batch 9/11 (5 locations)...

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should fetch and normalize real Cheap Airport Parking locations for LAX airport
  ðŸ“¦ Processing batch 7/11 (5 locations)...

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should match locations with real ParkWhiz and SpotHero providers
  ðŸ“¦ Processing batch 9/11 (5 locations)...

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should search with real ParkWhiz and SpotHero services
  ðŸ“¦ Processing batch 10/11 (5 locations)...

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should fetch and normalize real Cheap Airport Parking locations for LAX airport
  ðŸ“¦ Processing batch 8/11 (5 locations)...

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should match locations with real ParkWhiz and SpotHero providers
  ðŸ“¦ Processing batch 10/11 (5 locations)...

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should search with real ParkWhiz and SpotHero services
  ðŸ“¦ Processing batch 11/11 (2 locations)...

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should fetch and normalize real Cheap Airport Parking locations for LAX airport
  ðŸ“¦ Processing batch 9/11 (5 locations)...

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should search with real ParkWhiz and SpotHero services
âœ… Cheap Airport Parking: Found 52 locations

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should search with real ParkWhiz and SpotHero services
âœ… cheap_airport_parking: Found 52 locations

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should search with real ParkWhiz and SpotHero services

ðŸ“Š Total locations found: 94

ðŸ’¾ Storing locations in database...

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should match locations with real ParkWhiz and SpotHero providers
  ðŸ“¦ Processing batch 11/11 (2 locations)...

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should search with real ParkWhiz and SpotHero services
âœ… Stored 94 locations

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should search with real ParkWhiz and SpotHero services

ðŸ”— Finding location matches...
âœ… Found 8 potential matches

ðŸŽ‰ Search completed in 13469ms

ðŸ“ˆ SEARCH SUMMARY
==================
Total Locations: 94
Providers Queried: 3
Matches Found: 8
Search Duration: 13469ms

ðŸ”— TOP MATCHES:
1. Joe's Airport Parking LAX
   Confidence: 95.0%
   Providers: parkwhiz, spothero, spothero, cheap_airport_parking, cheap_airport_parking
   Price Range: $17.95 - $25.94/day
2. Airport Center Parking LAX
   Confidence: 95.0%
   Providers: parkwhiz, spothero, cheap_airport_parking, cheap_airport_parking
   Price Range: $18.58 - $25.94/day
3. WallyPark LAX Premier Garage
   Confidence: 95.0%
   Providers: parkwhiz, spothero, spothero, cheap_airport_parking
   Price Range: $24.58 - $40.04/day

ðŸ“Š BY PROVIDER:
parkwhiz: 10 locations
spothero: 32 locations
cheap_airport_parking: 52 locations

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should search with real ParkWhiz and SpotHero services
Real test results: 94 total locations, 8 matches
  - SpotHero (REAL): 32 locations
  - ParkWhiz (REAL): 10 locations
  - CAP (REAL): 52 locations

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should handle real API failures gracefully
ðŸ” Starting parking search for INVALID_CODE
ðŸ“… Date range: Fri Oct 17 2025 22:23:01 GMT+0000 (Coordinated Universal Time) to Sat Oct 18 2025 22:23:01 GMT+0000 (Coordinated Universal Time)

ðŸ“¡ Querying parkwhiz...
ðŸ” ParkWhiz Real: Searching locations... {
  airport: 'INVALID_CODE',
  dates: '2025-10-17T22:23:01 to 2025-10-18T22:23:01'
}
ðŸŒ ParkWhiz Real: Getting locations for INVALID_CODE...
ðŸ” Getting bearer token...

ðŸ“¡ Querying spothero...
ðŸ” SpotHero: Searching locations... {
  airport: 'INVALID_CODE',
  dates: '2025-10-17T22:23:01 to 2025-10-18T22:23:01'
}
ðŸŒ SpotHero: Fetching from API: https://api.spothero.com/v2/search/airport?iata=INVALID_CODE&starts=2025-10-17T22%3A23%3A01&ends=2025-10-18T22%3A23%3A01&oversize=false&show_unavailable=false

ðŸ“¡ Querying cheap_airport_parking...
ðŸ” Cheap Airport Parking: Searching locations... {
  airport: 'INVALID_CODE',
  dates: '2025-10-17T22:23:01 to 2025-10-18T22:23:01'
}
ðŸŒ Cheap Airport Parking: Fetching from API: https://www.cheapairportparking.org/parking/find.php?airport=INVALID_CODE&FromDate=10%2F17%2F2025&from_time=22&ToDate=10%2F18%2F2025&to_time=22

stderr | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should handle real API failures gracefully
âŒ SpotHero: Failed to search locations: Error: SpotHero API request failed: 404 Not Found
    at SpotHeroProvider.fetchLocationsInternal (/workspace/src/providers/spotHero/SpotHeroProvider.ts:90:13)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at retryWithBackoff (/workspace/src/providers/common/retryWithBackoff.ts:121:14)
    at SpotHeroProvider.searchLocations (/workspace/src/providers/spotHero/SpotHeroProvider.ts:39:26)
    at /workspace/src/aggregation/ParkingAggregationService.ts:60:29
    at async Promise.all (index 1)
    at ParkingAggregationService.searchParkingWithMatching (/workspace/src/aggregation/ParkingAggregationService.ts:72:29)
    at /workspace/src/aggregation/ParkingAggregationService.integration.test.ts:114:23
    at file:///workspace/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20

stderr | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should handle real API failures gracefully
âŒ spothero failed: Error: SpotHero API request failed: 404 Not Found
    at SpotHeroProvider.fetchLocationsInternal (/workspace/src/providers/spotHero/SpotHeroProvider.ts:90:13)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at retryWithBackoff (/workspace/src/providers/common/retryWithBackoff.ts:121:14)
    at SpotHeroProvider.searchLocations (/workspace/src/providers/spotHero/SpotHeroProvider.ts:39:26)
    at /workspace/src/aggregation/ParkingAggregationService.ts:60:29
    at async Promise.all (index 1)
    at ParkingAggregationService.searchParkingWithMatching (/workspace/src/aggregation/ParkingAggregationService.ts:72:29)
    at /workspace/src/aggregation/ParkingAggregationService.integration.test.ts:114:23
    at file:///workspace/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should match locations with real ParkWhiz and SpotHero providers
âœ… Cheap Airport Parking: Found 52 locations

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should match locations with real ParkWhiz and SpotHero providers
Real test: Found 19 matches across 106 total locations
Provider breakdown:
- ParkWhiz (REAL): 0 locations
- SpotHero (REAL): 54 locations
- CAP (REAL): 52 locations

Top 3 matches:
1. Renaissance Hotel LAX - Covered Valet (0.95 confidence)
   Providers: spothero, cheap_airport_parking, cheap_airport_parking, cheap_airport_parking
2. Airport Center Parking - Covered Self Park (0.85 confidence)
   Providers: spothero, cheap_airport_parking, cheap_airport_parking
3. Joe's Airport Parking - LAX - Uncovered Rooftop Self Park (0.85 confidence)
   Providers: spothero, cheap_airport_parking, cheap_airport_parking

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should handle mixed real data gracefully
ðŸ” ParkWhiz Real: Searching locations... { airport: 'ORD', dates: '2025-10-20T10:00:00 to 2025-10-22T18:00:00' }
ðŸŒ ParkWhiz Real: Getting locations for ORD...
ðŸ” Getting bearer token...

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should handle real API failures gracefully
ðŸ“„ Cheap Airport Parking: Retrieved HTML response (31478 characters)
ðŸ“Š Cheap Airport Parking: Parsed 0 locations

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should handle real API failures gracefully
ðŸ“ Cheap Airport Parking: Fetching address details for 0 locations in batches of 5...

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should handle real API failures gracefully
âœ… Cheap Airport Parking: Found 0 locations

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should handle real API failures gracefully
âœ… cheap_airport_parking: Found 0 locations

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should handle real API failures gracefully
âœ… Bearer token extracted successfully

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should handle real API failures gracefully
âœ… Bearer token obtained
ðŸŒ Calling authenticated autocomplete API: https://api.parkwhiz.com/internal/v1/autocomplete/?term=INVALID_CODE&results=6&country=us%2Cca&cohort=control

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should fetch and normalize real Cheap Airport Parking locations for LAX airport
  ðŸ“¦ Processing batch 10/11 (5 locations)...

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should handle real API failures gracefully
ðŸ“Š Autocomplete response: {
  "autocomplete": [
    {
      "id": "dXJuOm1ieGFkci1zdHI6ODM0NmNmOGYtOTVmOC00YWUwLWIwMTItMjYyMzI4OGQ1NjVk",
      "result_type": "place",
      "full_name": "Code",
      "short_name": "Code",
      "coordinates": [
        43.080902,
        -70.733119
      ],
      "slugs": null,
      "city": "Kittery",
      "state": "ME",
      "postal_code": "03904",
      "country": "US",
      "timezone": "America/New_York",
      "place_id": "dXJuOm1ieGFkci1zdHI6ODM0NmNmOGYtOTVmOC00YWUwLWIwMTItMjYyMzI4OGQ1NjVk",
      "must_resolve": true,
      "score": 60
    },
    {
      "id": "dXJuOm1ieHBsYzpBL0xJN0E",
      "result_type": "place",
      "full_name": "Cody",
      "short_name": "Cody",
      "coordinates": [
        44.52608,
        -109.063948
      ],
      "slugs": null,
      "state": "WY",
      "country": "US",
      "timezone": "America/Denver",
      "place_id": "dXJuOm1ieHBsYzpBL0xJN0E",
      "must_resolve": true,
      "score": 72
    },
    {
      "id": "dXJuOm1ieHBsYzpCR09vN0E",
      "result_type": "place",
      "full_name": "Cove",
      "short_name": "Cove",
      "coordinates": [
        29.805012,
        -94.839989
      ],
      "slugs": null,
      "state": "TX",
      "country": "US",
      "timezone": "America/Chicago",
      "place_id": "dXJuOm1ieHBsYzpCR09vN0E",
      "must_resolve": true,
      "score": 72
    }
  ]
}
ðŸ” Found 0 airport results out of 3 total results
ðŸ” No airport venues found, trying hubs...
ðŸ” No hub matches, trying exact matches...
âŒ No suitable venue found in autocomplete results

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should handle real API failures gracefully
âŒ No venue found for airport code: INVALID_CODE

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should handle real API failures gracefully
âœ… parkwhiz: Found 0 locations

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should handle real API failures gracefully
âœ… parkwhiz: Found 0 locations

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should handle real API failures gracefully

ðŸ“Š Total locations found: 0

ðŸ’¾ Storing locations in database...
âœ… Stored 0 locations

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should handle real API failures gracefully

ðŸ”— Finding location matches...
âœ… Found 0 potential matches

ðŸŽ‰ Search completed in 1022ms

ðŸ“ˆ SEARCH SUMMARY
==================
Total Locations: 0
Providers Queried: 3
Matches Found: 0
Search Duration: 1022ms

ðŸ“Š BY PROVIDER:

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should demonstrate real vs mock provider behavior
ðŸ” Starting parking search for ORD
ðŸ“… Date range: Fri Oct 17 2025 22:23:02 GMT+0000 (Coordinated Universal Time) to Sat Oct 18 2025 22:23:02 GMT+0000 (Coordinated Universal Time)

ðŸ“¡ Querying parkwhiz...
ðŸ” ParkWhiz Real: Searching locations... { airport: 'ORD', dates: '2025-10-17T22:23:02 to 2025-10-18T22:23:02' }
ðŸŒ ParkWhiz Real: Getting locations for ORD...
ðŸ” Getting bearer token...

ðŸ“¡ Querying spothero...
ðŸ” SpotHero: Searching locations... { airport: 'ORD', dates: '2025-10-17T22:23:02 to 2025-10-18T22:23:02' }
ðŸŒ SpotHero: Fetching from API: https://api.spothero.com/v2/search/airport?iata=ORD&starts=2025-10-17T22%3A23%3A02&ends=2025-10-18T22%3A23%3A02&oversize=false&show_unavailable=false

ðŸ“¡ Querying cheap_airport_parking...
ðŸ” Cheap Airport Parking: Searching locations... { airport: 'ORD', dates: '2025-10-17T22:23:02 to 2025-10-18T22:23:02' }
ðŸŒ Cheap Airport Parking: Fetching from API: https://www.cheapairportparking.org/parking/find.php?airport=ORD&FromDate=10%2F17%2F2025&from_time=22&ToDate=10%2F18%2F2025&to_time=22

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should demonstrate real vs mock provider behavior
ðŸ“Š SpotHero: Retrieved 17 results

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should demonstrate real vs mock provider behavior
âœ… SpotHero: Found 17 locations

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should demonstrate real vs mock provider behavior
âœ… spothero: Found 17 locations

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should handle mixed real data gracefully
âœ… Bearer token extracted successfully

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should handle mixed real data gracefully
âœ… Bearer token obtained
ðŸŒ Calling authenticated autocomplete API: https://api.parkwhiz.com/internal/v1/autocomplete/?term=ORD&results=6&country=us%2Cca&cohort=control

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should demonstrate real vs mock provider behavior
âœ… Bearer token extracted successfully

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should demonstrate real vs mock provider behavior
âœ… Bearer token obtained
ðŸŒ Calling authenticated autocomplete API: https://api.parkwhiz.com/internal/v1/autocomplete/?term=ORD&results=6&country=us%2Cca&cohort=control

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should handle mixed real data gracefully
ðŸ“Š Autocomplete response: {
  "autocomplete": [
    {
      "id": "5",
      "result_type": "venue",
      "full_name": "O'Hare Airport",
      "short_name": "O'Hare Airport",
      "coordinates": [
        41.98056,
        -87.885705
      ],
      "slug": "/o-hare-airport-parking/",
      "slugs": {
        "bestparking": "/chicago-il-parking/destinations/o-hare-airport-parking/",
        "parkwhiz": "/o-hare-airport-parking/"
      },
      "city": "Chicago",
      "state": "IL",
      "country": "US",
      "timezone": "America/Chicago",
      "place_id": "",
      "must_resolve": false,
      "score": 0
    },
    {
      "id": "dXJuOm1ieHBvaToyZTkzMGExNy0wNGU0LTRlNTYtYWU2OS04YzZmZDFlNmM2YWM",
      "result_type": "place",
      "full_name": "Ordo",
      "short_name": "Ordo",
      "coordinates": [
        42.171102,
        -87.825309
      ],
      "slugs": null,
      "address": "1855 Deerfield Rd Ste F, Highland Park, Illinois 60035, United States",
      "city": "Highland Park",
      "state": "IL",
      "postal_code": "60035",
      "country": "US",
      "timezone": "America/Chicago",
      "place_id": "dXJuOm1ieHBvaToyZTkzMGExNy0wNGU0LTRlNTYtYWU2OS04YzZmZDFlNmM2YWM",
      "must_resolve": true,
      "score": 1.4
    },
    {
      "id": "dXJuOm1ieHBvaTo0MTJkNDQxZS0wMTIwLTQzZWMtOTA1Ni0xZDRkYTRlYmJhNTQ",
      "result_type": "place",
      "full_name": "Order.",
      "short_name": "Order.",
      "coordinates": [
        40.28562333,
        -79.72627072
      ],
      "slugs": null,
      "address": "3028 Clay Pike, Rillton, Pennsylvania 15678, United States",
      "city": "Rillton",
      "state": "PA",
      "postal_code": "15678",
      "country": "US",
      "timezone": "America/New_York",
      "place_id": "dXJuOm1ieHBvaTo0MTJkNDQxZS0wMTIwLTQzZWMtOTA1Ni0xZDRkYTRlYmJhNTQ",
      "must_resolve": true,
      "score": 2.8
    },
    {
      "id": "dXJuOm1ieHBvaTpmODhjOGI0MS1mNmJhLTQ2OGItOTEwOS04OGM2NGY1MTY4ZDQ",
      "result_type": "place",
      "full_name": "Orderup",
      "short_name": "Orderup",
      "coordinates": [
        29.49754699,
        -98.46924699
      ],
      "slugs": null,
      "address": "999 E Basse Rd #400, San Antonio, Texas 78209, United States",
      "city": "San Antonio",
      "state": "TX",
      "postal_code": "78209",
      "country": "US",
      "timezone": "America/Chicago",
      "place_id": "dXJuOm1ieHBvaTpmODhjOGI0MS1mNmJhLTQ2OGItOTEwOS04OGM2NGY1MTY4ZDQ",
      "must_resolve": true,
      "score": 3.5
    },
    {
      "id": "dXJuOm1ieHBvaTpkMzdhNGYzYi04NjBhLTQ5MTQtYWY2MS0xYzVmN2I3M2VlMmQ",
      "result_type": "place",
      "full_name": "Ordinary",
      "short_name": "Ordinary",
      "coordinates": [
        41.307152,
        -72.92849
      ],
      "slugs": null,
      "address": "990 Chapel St, New Haven, Connecticut 06510, United States",
      "city": "New Haven",
      "state": "CT",
      "postal_code": "06510",
      "country": "US",
      "timezone": "America/New_York",
      "place_id": "dXJuOm1ieHBvaTpkMzdhNGYzYi04NjBhLTQ5MTQtYWY2MS0xYzVmN2I3M2VlMmQ",
      "must_resolve": true,
      "score": 4.199999999999999
    },
    {
      "id": "dXJuOm1ieHBvaTo4N2Y5NGZjYi03MmQ5LTQzODAtOWZmZC1lOTE2NTRkZjE1ZGQ",
      "result_type": "place",
      "full_name": "Ordinaire",
      "short_name": "Ordinaire",
      "coordinates": [
        36.84732541,
        -76.29105929
      ],
      "slugs": null,
      "address": "200 E Plume St, Norfolk, Virginia 23510, United States",
      "city": "Norfolk",
      "state": "VA",
      "postal_code": "23510",
      "country": "US",
      "timezone": "America/New_York",
      "place_id": "dXJuOm1ieHBvaTo4N2Y5NGZjYi03MmQ5LTQzODAtOWZmZC1lOTE2NTRkZjE1ZGQ",
      "must_resolve": true,
      "score": 4.8999999999999995
    }
  ],
  "events": [
    {
      "id": 1675437,
      "name": "Funksgiving with Universal Funk Order x Mac Wondo",
      "start_time": "2025-11-26T20:00:00.000-05:00",
      "end_time": "2025-11-26T23:00:00.000-05:00",
      "site_url": "/the-queen-parking/funksgiving-with-universal-funk-order-x-mac-wondo-1675437/",
      "_embedded": {
        "pw:venue": {
          "id": "323546",
          "name": "The Queen",
          "city": "Wilmington",
          "state": "DE",
          "timezone": "America/New_York",
          "enhanced_airport": false,
          "coordinates": [
            39.7411018,
            -75.5502779
          ]
        }
      }
    },
    {
      "id": 1652384,
      "name": "Richard Goode Plays Mozartâ€™s Piano Concerto No. 14",
      "start_time": "2025-10-17T19:00:00.000-05:00",
      "end_time": "2025-10-17T22:00:00.000-05:00",
      "site_url": "/ordway-center-for-the-performing-arts-parking/richard-goode-plays-mozart-s-piano-concerto-no-14-1652384/",
      "_embedded": {
        "pw:venue": {
          "id": "2552",
          "name": "Ordway Center for the Performing Arts",
          "city": "Saint Paul",
          "state": "MN",
          "timezone": "America/Chicago",
          "enhanced_airport": false,
          "coordinates": [
            44.94457195447249,
            -93.09822486945797
          ]
        }
      }
    },
    {
      "id": 1652386,
      "name": "Richard Goode Plays Mozartâ€™s Piano Concerto No. 14",
      "start_time": "2025-10-18T19:00:00.000-05:00",
      "end_time": "2025-10-18T22:00:00.000-05:00",
      "site_url": "/ordway-center-for-the-performing-arts-parking/richard-goode-plays-mozart-s-piano-concerto-no-14-1652386/",
      "_embedded": {
        "pw:venue": {
          "id": "2552",
          "name": "Ordway Center for the Performing Arts",
          "city": "Saint Paul",
          "state": "MN",
          "timezone": "America/Chicago",
          "enhanced_airport": false,
          "coordinates": [
            44.94457195447249,
            -93.09822486945797
          ]
        }
      }
    },
    {
      "id": 1652388,
      "name": "Haydnâ€™s Symphony No. 93 with Richard Egarr",
      "start_time": "2025-10-31T19:00:00.000-05:00",
      "end_time": "2025-10-31T22:00:00.000-05:00",
      "site_url": "/ordway-center-for-the-performing-arts-parking/haydn-s-symphony-no-93-with-richard-egarr-1652388/",
      "_embedded": {
        "pw:venue": {
          "id": "2552",
          "name": "Ordway Center for the Performing Arts",
          "city": "Saint Paul",
          "state": "MN",
          "timezone": "America/Chicago",
          "enhanced_airport": false,
          "coordinates": [
            44.94457195447249,
            -93.09822486945797
          ]
        }
      }
    },
    {
      "id": 1652389,
      "name": "Haydnâ€™s Symphony No. 93 with Richard Egarr",
      "start_time": "2025-11-01T19:00:00.000-05:00",
      "end_time": "2025-11-01T22:00:00.000-05:00",
      "site_url": "/ordway-center-for-the-performing-arts-parking/haydn-s-symphony-no-93-with-richard-egarr-1652389/",
      "_embedded": {
        "pw:venue": {
          "id": "2552",
          "name": "Ordway Center for the Performing Arts",
          "city": "Saint Paul",
          "state": "MN",
          "timezone": "America/Chicago",
          "enhanced_airport": false,
          "coordinates": [
            44.94457195447249,
            -93.09822486945797
          ]
        }
      }
    },
    {
      "id": 1676642,
      "name": "CosÃ¬ fan tutte",
      "start_time": "2025-11-01T19:30:00.000-05:00",
      "end_time": "2025-11-01T22:30:00.000-05:00",
      "site_url": "/ordway-center-for-the-performing-arts-parking/cosi-fan-tutte-1676642/",
      "_embedded": {
        "pw:venue": {
          "id": "2552",
          "name": "Ordway Center for the Performing Arts",
          "city": "Saint Paul",
          "state": "MN",
          "timezone": "America/Chicago",
          "enhanced_airport": false,
          "coordinates": [
            44.94457195447249,
            -93.09822486945797
          ]
        }
      }
    }
  ]
}
ðŸ” Found 1 airport results out of 6 total results

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should handle mixed real data gracefully
ðŸ“ Found venue: O'Hare Airport with slug: /o-hare-airport-parking/
ðŸŒ Fetching HTML page: https://www.parkwhiz.com/o-hare-airport-parking/

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should demonstrate real vs mock provider behavior
ðŸ“Š Autocomplete response: {
  "autocomplete": [
    {
      "id": "5",
      "result_type": "venue",
      "full_name": "O'Hare Airport",
      "short_name": "O'Hare Airport",
      "coordinates": [
        41.98056,
        -87.885705
      ],
      "slug": "/o-hare-airport-parking/",
      "slugs": {
        "bestparking": "/chicago-il-parking/destinations/o-hare-airport-parking/",
        "parkwhiz": "/o-hare-airport-parking/"
      },
      "city": "Chicago",
      "state": "IL",
      "country": "US",
      "timezone": "America/Chicago",
      "place_id": "",
      "must_resolve": false,
      "score": 0
    },
    {
      "id": "dXJuOm1ieHBvaToyZTkzMGExNy0wNGU0LTRlNTYtYWU2OS04YzZmZDFlNmM2YWM",
      "result_type": "place",
      "full_name": "Ordo",
      "short_name": "Ordo",
      "coordinates": [
        42.171102,
        -87.825309
      ],
      "slugs": null,
      "address": "1855 Deerfield Rd Ste F, Highland Park, Illinois 60035, United States",
      "city": "Highland Park",
      "state": "IL",
      "postal_code": "60035",
      "country": "US",
      "timezone": "America/Chicago",
      "place_id": "dXJuOm1ieHBvaToyZTkzMGExNy0wNGU0LTRlNTYtYWU2OS04YzZmZDFlNmM2YWM",
      "must_resolve": true,
      "score": 1.4
    },
    {
      "id": "dXJuOm1ieHBvaTo0MTJkNDQxZS0wMTIwLTQzZWMtOTA1Ni0xZDRkYTRlYmJhNTQ",
      "result_type": "place",
      "full_name": "Order.",
      "short_name": "Order.",
      "coordinates": [
        40.28562333,
        -79.72627072
      ],
      "slugs": null,
      "address": "3028 Clay Pike, Rillton, Pennsylvania 15678, United States",
      "city": "Rillton",
      "state": "PA",
      "postal_code": "15678",
      "country": "US",
      "timezone": "America/New_York",
      "place_id": "dXJuOm1ieHBvaTo0MTJkNDQxZS0wMTIwLTQzZWMtOTA1Ni0xZDRkYTRlYmJhNTQ",
      "must_resolve": true,
      "score": 2.8
    },
    {
      "id": "dXJuOm1ieHBvaTpmODhjOGI0MS1mNmJhLTQ2OGItOTEwOS04OGM2NGY1MTY4ZDQ",
      "result_type": "place",
      "full_name": "Orderup",
      "short_name": "Orderup",
      "coordinates": [
        29.49754699,
        -98.46924699
      ],
      "slugs": null,
      "address": "999 E Basse Rd #400, San Antonio, Texas 78209, United States",
      "city": "San Antonio",
      "state": "TX",
      "postal_code": "78209",
      "country": "US",
      "timezone": "America/Chicago",
      "place_id": "dXJuOm1ieHBvaTpmODhjOGI0MS1mNmJhLTQ2OGItOTEwOS04OGM2NGY1MTY4ZDQ",
      "must_resolve": true,
      "score": 3.5
    },
    {
      "id": "dXJuOm1ieHBvaTpkMzdhNGYzYi04NjBhLTQ5MTQtYWY2MS0xYzVmN2I3M2VlMmQ",
      "result_type": "place",
      "full_name": "Ordinary",
      "short_name": "Ordinary",
      "coordinates": [
        41.307152,
        -72.92849
      ],
      "slugs": null,
      "address": "990 Chapel St, New Haven, Connecticut 06510, United States",
      "city": "New Haven",
      "state": "CT",
      "postal_code": "06510",
      "country": "US",
      "timezone": "America/New_York",
      "place_id": "dXJuOm1ieHBvaTpkMzdhNGYzYi04NjBhLTQ5MTQtYWY2MS0xYzVmN2I3M2VlMmQ",
      "must_resolve": true,
      "score": 4.199999999999999
    },
    {
      "id": "dXJuOm1ieHBvaTo4N2Y5NGZjYi03MmQ5LTQzODAtOWZmZC1lOTE2NTRkZjE1ZGQ",
      "result_type": "place",
      "full_name": "Ordinaire",
      "short_name": "Ordinaire",
      "coordinates": [
        36.84732541,
        -76.29105929
      ],
      "slugs": null,
      "address": "200 E Plume St, Norfolk, Virginia 23510, United States",
      "city": "Norfolk",
      "state": "VA",
      "postal_code": "23510",
      "country": "US",
      "timezone": "America/New_York",
      "place_id": "dXJuOm1ieHBvaTo4N2Y5NGZjYi03MmQ5LTQzODAtOWZmZC1lOTE2NTRkZjE1ZGQ",
      "must_resolve": true,
      "score": 4.8999999999999995
    }
  ],
  "events": [
    {
      "id": 1675437,
      "name": "Funksgiving with Universal Funk Order x Mac Wondo",
      "start_time": "2025-11-26T20:00:00.000-05:00",
      "end_time": "2025-11-26T23:00:00.000-05:00",
      "site_url": "/the-queen-parking/funksgiving-with-universal-funk-order-x-mac-wondo-1675437/",
      "_embedded": {
        "pw:venue": {
          "id": "323546",
          "name": "The Queen",
          "city": "Wilmington",
          "state": "DE",
          "timezone": "America/New_York",
          "enhanced_airport": false,
          "coordinates": [
            39.7411018,
            -75.5502779
          ]
        }
      }
    },
    {
      "id": 1652384,
      "name": "Richard Goode Plays Mozartâ€™s Piano Concerto No. 14",
      "start_time": "2025-10-17T19:00:00.000-05:00",
      "end_time": "2025-10-17T22:00:00.000-05:00",
      "site_url": "/ordway-center-for-the-performing-arts-parking/richard-goode-plays-mozart-s-piano-concerto-no-14-1652384/",
      "_embedded": {
        "pw:venue": {
          "id": "2552",
          "name": "Ordway Center for the Performing Arts",
          "city": "Saint Paul",
          "state": "MN",
          "timezone": "America/Chicago",
          "enhanced_airport": false,
          "coordinates": [
            44.94457195447249,
            -93.09822486945797
          ]
        }
      }
    },
    {
      "id": 1652386,
      "name": "Richard Goode Plays Mozartâ€™s Piano Concerto No. 14",
      "start_time": "2025-10-18T19:00:00.000-05:00",
      "end_time": "2025-10-18T22:00:00.000-05:00",
      "site_url": "/ordway-center-for-the-performing-arts-parking/richard-goode-plays-mozart-s-piano-concerto-no-14-1652386/",
      "_embedded": {
        "pw:venue": {
          "id": "2552",
          "name": "Ordway Center for the Performing Arts",
          "city": "Saint Paul",
          "state": "MN",
          "timezone": "America/Chicago",
          "enhanced_airport": false,
          "coordinates": [
            44.94457195447249,
            -93.09822486945797
          ]
        }
      }
    },
    {
      "id": 1652388,
      "name": "Haydnâ€™s Symphony No. 93 with Richard Egarr",
      "start_time": "2025-10-31T19:00:00.000-05:00",
      "end_time": "2025-10-31T22:00:00.000-05:00",
      "site_url": "/ordway-center-for-the-performing-arts-parking/haydn-s-symphony-no-93-with-richard-egarr-1652388/",
      "_embedded": {
        "pw:venue": {
          "id": "2552",
          "name": "Ordway Center for the Performing Arts",
          "city": "Saint Paul",
          "state": "MN",
          "timezone": "America/Chicago",
          "enhanced_airport": false,
          "coordinates": [
            44.94457195447249,
            -93.09822486945797
          ]
        }
      }
    },
    {
      "id": 1652389,
      "name": "Haydnâ€™s Symphony No. 93 with Richard Egarr",
      "start_time": "2025-11-01T19:00:00.000-05:00",
      "end_time": "2025-11-01T22:00:00.000-05:00",
      "site_url": "/ordway-center-for-the-performing-arts-parking/haydn-s-symphony-no-93-with-richard-egarr-1652389/",
      "_embedded": {
        "pw:venue": {
          "id": "2552",
          "name": "Ordway Center for the Performing Arts",
          "city": "Saint Paul",
          "state": "MN",
          "timezone": "America/Chicago",
          "enhanced_airport": false,
          "coordinates": [
            44.94457195447249,
            -93.09822486945797
          ]
        }
      }
    },
    {
      "id": 1676642,
      "name": "CosÃ¬ fan tutte",
      "start_time": "2025-11-01T19:30:00.000-05:00",
      "end_time": "2025-11-01T22:30:00.000-05:00",
      "site_url": "/ordway-center-for-the-performing-arts-parking/cosi-fan-tutte-1676642/",
      "_embedded": {
        "pw:venue": {
          "id": "2552",
          "name": "Ordway Center for the Performing Arts",
          "city": "Saint Paul",
          "state": "MN",
          "timezone": "America/Chicago",
          "enhanced_airport": false,
          "coordinates": [
            44.94457195447249,
            -93.09822486945797
          ]
        }
      }
    }
  ]
}
ðŸ” Found 1 airport results out of 6 total results

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should demonstrate real vs mock provider behavior
ðŸ“ Found venue: O'Hare Airport with slug: /o-hare-airport-parking/
ðŸŒ Fetching HTML page: https://www.parkwhiz.com/o-hare-airport-parking/

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should demonstrate real vs mock provider behavior
ðŸ“„ Cheap Airport Parking: Retrieved HTML response (60302 characters)
ðŸ“Š Cheap Airport Parking: Parsed 7 locations

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should demonstrate real vs mock provider behavior
ðŸ“ Cheap Airport Parking: Fetching address details for 7 locations in batches of 5...
  ðŸ“¦ Processing batch 1/2 (5 locations)...

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should fetch and normalize real Cheap Airport Parking locations for LAX airport
  ðŸ“¦ Processing batch 11/11 (2 locations)...

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should handle mixed real data gracefully
JSON length: 212989
First 200 chars: {"meta":{"title":"Chicago O'Hare International Airport (ORD) Parking | ParkWhiz","description":"O'Hare International Airport parking shouldn't cost you more than your flight. Save money by booking you
Last 200 chars: 10-18T22:00:00.000Z","lat":41.98056,"lng":-87.885705,"msa":"Chicago","parkingType":"Daily","postalCode":"60666","startTime":"2025-10-17T22:00:00.000Z","timezone":"America/Chicago","mobileOnly":false}}
ðŸ“Š Extracted initial state with 2 locations

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should handle mixed real data gracefully
âœ… ParkWhiz Real: Retrieved 2 locations for ORD

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should handle mixed real data gracefully
âœ… parkwhiz: Found 0 locations

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should handle mixed real data gracefully
ðŸ” SpotHero: Searching locations... { airport: 'ORD', dates: '2025-10-20T10:00:00 to 2025-10-22T18:00:00' }
ðŸŒ SpotHero: Fetching from API: https://api.spothero.com/v2/search/airport?iata=ORD&starts=2025-10-20T10%3A00%3A00&ends=2025-10-22T18%3A00%3A00&oversize=false&show_unavailable=false

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should fetch and normalize real Cheap Airport Parking locations for LAX airport
âœ… Cheap Airport Parking: Found 52 locations

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should fetch and normalize real Cheap Airport Parking locations for LAX airport

âœ… Found 52 Cheap Airport Parking locations for LAX

Sample LAX Location:
  Name: QuikPark LAX
  Address: 9821 Vicksburg ave., Los Angeles, CA, 90045
  Daily Rate: $19.93
  Distance: N/A miles
  Shuttle: Yes
  Valet: No
  Covered: Yes

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should handle different date ranges correctly
ðŸ” Cheap Airport Parking: Searching locations... { airport: 'ORD', dates: '2025-11-01T08:00:00 to 2025-11-02T08:00:00' }
ðŸŒ Cheap Airport Parking: Fetching from API: https://www.cheapairportparking.org/parking/find.php?airport=ORD&FromDate=11%2F01%2F2025&from_time=8&ToDate=11%2F02%2F2025&to_time=8

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should demonstrate real vs mock provider behavior
JSON length: 212989
First 200 chars: {"meta":{"title":"Chicago O'Hare International Airport (ORD) Parking | ParkWhiz","description":"O'Hare International Airport parking shouldn't cost you more than your flight. Save money by booking you
Last 200 chars: 10-18T22:00:00.000Z","lat":41.98056,"lng":-87.885705,"msa":"Chicago","parkingType":"Daily","postalCode":"60666","startTime":"2025-10-17T22:00:00.000Z","timezone":"America/Chicago","mobileOnly":false}}
ðŸ“Š Extracted initial state with 2 locations

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should demonstrate real vs mock provider behavior
âœ… ParkWhiz Real: Retrieved 2 locations for ORD

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should demonstrate real vs mock provider behavior
âœ… parkwhiz: Found 0 locations

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should demonstrate real vs mock provider behavior
âœ… parkwhiz: Found 0 locations

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should handle mixed real data gracefully
ðŸ“Š SpotHero: Retrieved 34 results

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should handle mixed real data gracefully
âœ… SpotHero: Found 34 locations

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should handle mixed real data gracefully
ORD test: 0 real ParkWhiz + 34 real SpotHero = 0 matches

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should generate matching reports with real data
ðŸ” ParkWhiz Real: Searching locations... { airport: 'LAX', dates: '2025-10-20T10:00:00 to 2025-10-22T18:00:00' }
ðŸŒ ParkWhiz Real: Getting locations for LAX...
ðŸ” Getting bearer token...
ðŸ” SpotHero: Searching locations... { airport: 'LAX', dates: '2025-10-20T10:00:00 to 2025-10-22T18:00:00' }
ðŸŒ SpotHero: Fetching from API: https://api.spothero.com/v2/search/airport?iata=LAX&starts=2025-10-20T10%3A00%3A00&ends=2025-10-22T18%3A00%3A00&oversize=false&show_unavailable=false

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should generate matching reports with real data
ðŸ“Š SpotHero: Retrieved 54 results

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should generate matching reports with real data
âœ… SpotHero: Found 54 locations

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should demonstrate real vs mock provider behavior
  ðŸ“¦ Processing batch 2/2 (2 locations)...

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should handle different date ranges correctly
ðŸ“„ Cheap Airport Parking: Retrieved HTML response (61146 characters)
ðŸ“Š Cheap Airport Parking: Parsed 7 locations

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should handle different date ranges correctly
ðŸ“ Cheap Airport Parking: Fetching address details for 7 locations in batches of 5...
  ðŸ“¦ Processing batch 1/2 (5 locations)...

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should generate matching reports with real data
âœ… Bearer token extracted successfully

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should generate matching reports with real data
âœ… Bearer token obtained
ðŸŒ Calling authenticated autocomplete API: https://api.parkwhiz.com/internal/v1/autocomplete/?term=LAX&results=6&country=us%2Cca&cohort=control

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should generate matching reports with real data
ðŸ“Š Autocomplete response: {
  "autocomplete": [
    {
      "id": "12",
      "result_type": "venue",
      "full_name": "LAX Airport",
      "short_name": "LAX Airport",
      "coordinates": [
        33.94240029061568,
        -118.40766429908399
      ],
      "slug": "/lax-airport-parking/",
      "slugs": {
        "bestparking": "/los-angeles-ca-parking/destinations/lax-airport-parking/",
        "parkwhiz": "/lax-airport-parking/"
      },
      "city": "Los Angeles",
      "state": "CA",
      "country": "US",
      "timezone": "America/Los_Angeles",
      "place_id": "",
      "must_resolve": false,
      "score": 0
    },
    {
      "id": "dXJuOm1ieHBvaTo4MjAwYTc0My00ZTFiLTRlODAtYmVkNi0zYWYwNzI0ZTkxNTg",
      "result_type": "place",
      "full_name": "LAX-C",
      "short_name": "LAX-C",
      "coordinates": [
        34.063335,
        -118.232791
      ],
      "slugs": null,
      "address": "1100 N Main St, Los Angeles, California 90012, United States",
      "city": "Los Angeles",
      "state": "CA",
      "postal_code": "90012",
      "country": "US",
      "timezone": "America/Los_Angeles",
      "place_id": "dXJuOm1ieHBvaTo4MjAwYTc0My00ZTFiLTRlODAtYmVkNi0zYWYwNzI0ZTkxNTg",
      "must_resolve": true,
      "score": 3.5
    },
    {
      "id": "dXJuOm1ieHBvaTowYjM2Yjg4Yi0xN2ZjLTRhNzItYTlhOC1kNmNmZTcyOWUzNzQ",
      "result_type": "place",
      "full_name": "LAXCC",
      "short_name": "LAXCC",
      "coordinates": [
        33.96188095,
        -118.42079199
      ],
      "slugs": null,
      "address": "8332 Lincoln Blvd, Los Angeles, California 90045, United States",
      "city": "Los Angeles",
      "state": "CA",
      "postal_code": "90045",
      "country": "US",
      "timezone": "America/Los_Angeles",
      "place_id": "dXJuOm1ieHBvaTowYjM2Yjg4Yi0xN2ZjLTRhNzItYTlhOC1kNmNmZTcyOWUzNzQ",
      "must_resolve": true,
      "score": 3.5
    },
    {
      "id": "144",
      "result_type": "venue",
      "full_name": "Jacksonville Airport",
      "short_name": "Jacksonville Airport",
      "coordinates": [
        30.493133,
        -81.681026
      ],
      "slug": "/jacksonville-airport-parking/",
      "slugs": {
        "bestparking": "/jacksonville-fl-parking/destinations/jacksonville-airport-parking/",
        "parkwhiz": "/jacksonville-airport-parking/"
      },
      "city": "Jacksonville",
      "state": "FL",
      "country": "US",
      "timezone": "America/New_York",
      "place_id": "",
      "must_resolve": false,
      "score": 4
    },
    {
      "id": "93",
      "result_type": "hub",
      "full_name": "Las Vegas",
      "short_name": "Las Vegas",
      "coordinates": [
        36.17168973456615,
        -115.15045166015626
      ],
      "slug": "/p/las-vegas-parking-3/map/",
      "slugs": {
        "bestparking": "/las-vegas-nv-parking/",
        "parkwhiz": "/p/las-vegas-parking-3/map/"
      },
      "city": "Las Vegas",
      "state": "NV",
      "country": "US",
      "timezone": "America/Los_Angeles",
      "place_id": "",
      "must_resolve": false,
      "score": 7.700000000000001
    },
    {
      "id": "419",
      "result_type": "venue",
      "full_name": "Lab Theater",
      "short_name": "Lab Theater",
      "coordinates": [
        44.989735,
        -93.2749931
      ],
      "slug": "/lab-theater-parking/",
      "slugs": {
        "bestparking": "/minneapolis-parking/destinations/lab-theater-parking/",
        "parkwhiz": "/lab-theater-parking/"
      },
      "city": "Minneapolis",
      "state": "MN",
      "country": "US",
      "timezone": "America/Chicago",
      "place_id": "",
      "must_resolve": false,
      "score": 9.9
    }
  ]
}
ðŸ” Found 2 airport results out of 6 total results

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should generate matching reports with real data
ðŸ“ Found venue: LAX Airport with slug: /lax-airport-parking/
ðŸŒ Fetching HTML page: https://www.parkwhiz.com/lax-airport-parking/

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should demonstrate real vs mock provider behavior
âœ… Cheap Airport Parking: Found 7 locations

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should demonstrate real vs mock provider behavior
âœ… cheap_airport_parking: Found 7 locations

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should demonstrate real vs mock provider behavior

ðŸ“Š Total locations found: 24

ðŸ’¾ Storing locations in database...

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should demonstrate real vs mock provider behavior
âœ… Stored 24 locations

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should demonstrate real vs mock provider behavior

ðŸ”— Finding location matches...
âœ… Found 0 potential matches

ðŸŽ‰ Search completed in 2240ms

ðŸ“ˆ SEARCH SUMMARY
==================
Total Locations: 24
Providers Queried: 3
Matches Found: 0
Search Duration: 2240ms

ðŸ“Š BY PROVIDER:
spothero: 17 locations
cheap_airport_parking: 7 locations

stdout | src/aggregation/ParkingAggregationService.integration.test.ts > ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should demonstrate real vs mock provider behavior
Provider results breakdown:
- ParkWhiz (REAL): 0 locations
- SpotHero (REAL): 17 locations
- CAP (REAL): 7 locations
SpotHero amenities: 8 with shuttle, 3 with valet, 6 covered

 âœ“ src/aggregation/ParkingAggregationService.integration.test.ts (3 tests) 16738ms
   âœ“ ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should search with real ParkWhiz and SpotHero services  13472ms
   âœ“ ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should handle real API failures gracefully  1024ms
   âœ“ ParkingAggregationService - Real Tests > searchParkingWithMatching - Real Integration > should demonstrate real vs mock provider behavior  2241ms
stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should handle different date ranges correctly
  ðŸ“¦ Processing batch 2/2 (2 locations)...

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should generate matching reports with real data
JSON length: 411013
First 200 chars: {"meta":{"title":"Los Angeles International Airport (LAX) Parking | ParkWhiz","description":"Los Angeles International Airport parking shouldn't cost you more than your flight. Save money by booking y
Last 200 chars: :33.94240029061568,"lng":-118.40766429908399,"msa":"Los Angeles","parkingType":"Daily","postalCode":"90045","startTime":"2025-10-17T22:00:00.000Z","timezone":"America/Los_Angeles","mobileOnly":false}}
ðŸ“Š Extracted initial state with 16 locations

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should generate matching reports with real data
âœ… ParkWhiz Real: Retrieved 16 locations for LAX

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should generate matching reports with real data
âœ… parkwhiz: Found 0 locations

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should generate matching reports with real data
Report test: Found 0 matches from 54 locations
No matches found for report generation test

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should handle empty results gracefully
ðŸ” ParkWhiz Real: Searching locations... { airport: 'BUR', dates: '2025-10-20T10:00:00 to 2025-10-22T18:00:00' }
ðŸŒ ParkWhiz Real: Getting locations for BUR...
ðŸ” Getting bearer token...

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should handle empty results gracefully
âœ… Bearer token extracted successfully

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should handle empty results gracefully
âœ… Bearer token obtained
ðŸŒ Calling authenticated autocomplete API: https://api.parkwhiz.com/internal/v1/autocomplete/?term=BUR&results=6&country=us%2Cca&cohort=control

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should handle different date ranges correctly
âœ… Cheap Airport Parking: Found 7 locations

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should handle different date ranges correctly
ðŸ” Cheap Airport Parking: Searching locations... { airport: 'ORD', dates: '2025-11-01T08:00:00 to 2025-11-08T08:00:00' }
ðŸŒ Cheap Airport Parking: Fetching from API: https://www.cheapairportparking.org/parking/find.php?airport=ORD&FromDate=11%2F01%2F2025&from_time=8&ToDate=11%2F08%2F2025&to_time=8

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should handle empty results gracefully
ðŸ“Š Autocomplete response: {
  "autocomplete": [
    {
      "id": "350188",
      "result_type": "venue",
      "full_name": "WBUR",
      "short_name": "WBUR",
      "coordinates": [
        42.3505364,
        -71.1155277
      ],
      "slug": "/wbur-parking/",
      "slugs": {
        "bestparking": "/boston-ma-parking/destinations/wbur-parking/",
        "parkwhiz": "/wbur-parking/"
      },
      "city": "Boston",
      "state": "MA",
      "country": "US",
      "timezone": "America/New_York",
      "place_id": "",
      "must_resolve": false,
      "score": 1
    },
    {
      "id": "8128",
      "result_type": "venue",
      "full_name": "Buffalo Niagara International Airport",
      "short_name": "Buffalo Niagara International Airport",
      "coordinates": [
        42.936016,
        -78.731558
      ],
      "slug": "/buffalo-niagara-international-airport-parking/",
      "slugs": {
        "bestparking": "/buffalo-ny-parking/destinations/buffalo-niagara-international-airport-parking/",
        "parkwhiz": "/buffalo-niagara-international-airport-parking/"
      },
      "city": "Buffalo",
      "state": "NY",
      "country": "US",
      "timezone": "America/New_York",
      "place_id": "",
      "must_resolve": false,
      "score": 1.1
    },
    {
      "id": "dXJuOm1ieHBvaTo2ODYxZmNmMS03NjVjLTQzNDItODVjZS03NmFlYjkyODdmYzA",
      "result_type": "place",
      "full_name": "Burlington",
      "short_name": "Burlington",
      "coordinates": [
        36.104663,
        -115.172334
      ],
      "slugs": null,
      "address": "3767 S Las Vegas Blvd, Las Vegas, Nevada 89109, United States",
      "city": "Las Vegas",
      "state": "NV",
      "postal_code": "89109",
      "country": "US",
      "timezone": "America/Los_Angeles",
      "place_id": "dXJuOm1ieHBvaTo2ODYxZmNmMS03NjVjLTQzNDItODVjZS03NmFlYjkyODdmYzA",
      "must_resolve": true,
      "score": 5.6
    },
    {
      "id": "dXJuOm1ieHBvaTo2N2M5Mzc5Ni01YjQ0LTRlMDgtYjQxZC02MTEwOGJlMjBmY2Y",
      "result_type": "place",
      "full_name": "Burlington",
      "short_name": "Burlington",
      "coordinates": [
        39.28717752,
        -76.60742969
      ],
      "slugs": null,
      "address": "600 E Pratt Street, Baltimore, Maryland 21202, United States",
      "city": "Baltimore",
      "state": "MD",
      "postal_code": "21202",
      "country": "US",
      "timezone": "America/New_York",
      "place_id": "dXJuOm1ieHBvaTo2N2M5Mzc5Ni01YjQ0LTRlMDgtYjQxZC02MTEwOGJlMjBmY2Y",
      "must_resolve": true,
      "score": 5.6
    },
    {
      "id": "dXJuOm1ieHBvaTptYXBib3gtbjM0MzU0NA",
      "result_type": "place",
      "full_name": "Burien Nissan",
      "short_name": "Burien Nissan",
      "coordinates": [
        47.4583207,
        -122.3332304
      ],
      "slugs": null,
      "address": "16042 1st Avenue South, Burien, Washington 98148, United States",
      "city": "Burien",
      "state": "WA",
      "postal_code": "98148",
      "country": "US",
      "timezone": "America/Los_Angeles",
      "place_id": "dXJuOm1ieHBvaTptYXBib3gtbjM0MzU0NA",
      "must_resolve": true,
      "score": 7.699999999999999
    },
    {
      "id": "114437",
      "result_type": "venue",
      "full_name": "Burr Gymnasium",
      "short_name": "Burr Gymnasium",
      "coordinates": [
        38.9266382,
        -77.0228857
      ],
      "slug": "/burr-gymnasium-parking/",
      "slugs": {
        "bestparking": "/d-c-dc-parking/destinations/burr-gymnasium-parking/",
        "parkwhiz": "/burr-gymnasium-parking/"
      },
      "city": "D.C.",
      "state": "DC",
      "country": "US",
      "timezone": "America/New_York",
      "place_id": "",
      "must_resolve": false,
      "score": 7.699999999999999
    }
  ],
  "events": [
    {
      "id": 1643284,
      "name": "Rumble in the Burt 3",
      "start_time": "2025-10-19T19:00:00.000-05:00",
      "end_time": "2025-10-19T22:00:00.000-05:00",
      "site_url": "/burton-cummings-theatre-parking/rumble-in-the-burt-3-1643284/",
      "_embedded": {
        "pw:venue": {
          "id": "1794",
          "name": "Burton Cummings Theatre",
          "city": "Winnipeg",
          "state": "MB",
          "timezone": "America/Winnipeg",
          "enhanced_airport": false,
          "coordinates": [
            49.89581661889775,
            -97.1434352748688
          ]
        }
      }
    },
    {
      "id": 1685247,
      "name": "Burton Cummings",
      "start_time": "2025-11-13T19:30:00.000-06:00",
      "end_time": "2025-11-13T22:30:00.000-06:00",
      "site_url": "/burton-cummings-theatre-parking/burton-cummings-1685247/",
      "_embedded": {
        "pw:venue": {
          "id": "1794",
          "name": "Burton Cummings Theatre",
          "city": "Winnipeg",
          "state": "MB",
          "timezone": "America/Winnipeg",
          "enhanced_airport": false,
          "coordinates": [
            49.89581661889775,
            -97.1434352748688
          ]
        }
      }
    },
    {
      "id": 1680252,
      "name": "The Empire Strips Back - A Burlesque Parody",
      "start_time": "2025-10-17T19:00:00.000-07:00",
      "end_time": "2025-10-17T22:00:00.000-07:00",
      "site_url": "/herberger-theater-center-parking/the-empire-strips-back-a-burlesque-parody-1680252/",
      "_embedded": {
        "pw:venue": {
          "id": "6649",
          "name": "Herberger Theater Center",
          "city": "Phoenix",
          "state": "AZ",
          "timezone": "America/Phoenix",
          "enhanced_airport": false,
          "coordinates": [
            33.4510819,
            -112.0707306
          ]
        }
      }
    },
    {
      "id": 1672773,
      "name": "The Crosby Collective (feat Jason Crosby, Oteil Burbridge & guest)",
      "start_time": "2025-10-17T20:00:00.000-07:00",
      "end_time": "2025-10-17T23:00:00.000-07:00",
      "site_url": "/the-fillmore-parking-2/the-crosby-collective-feat-jason-crosby-oteil-burbridge-guest-1672773/",
      "_embedded": {
        "pw:venue": {
          "id": "185",
          "name": "The Fillmore",
          "city": "San Francisco",
          "state": "CA",
          "timezone": "America/Los_Angeles",
          "enhanced_airport": false,
          "coordinates": [
            37.7841848,
            -122.4329706
          ]
        }
      }
    },
    {
      "id": 1563991,
      "name": "Zombie Burlesque",
      "start_time": "2025-10-17T20:00:00.000-07:00",
      "end_time": "2025-10-17T23:00:00.000-07:00",
      "site_url": "/v-theater-at-planet-hollywood-inside-the-miracle-mile-mall-parking/zombie-burlesque-1563991/",
      "_embedded": {
        "pw:venue": {
          "id": "467323",
          "name": "V Theater at Planet Hollywood Inside the Miracle Mile Mall",
          "city": "Las Vegas",
          "state": "NV",
          "timezone": "America/Los_Angeles",
          "enhanced_airport": false,
          "coordinates": [
            36.1096038,
            -115.1723076
          ]
        }
      }
    },
    {
      "id": 1588462,
      "name": "Sam Burchfield",
      "start_time": "2025-10-18T20:00:00.000-04:00",
      "end_time": "2025-10-18T23:00:00.000-04:00",
      "site_url": "/the-hamilton-parking/sam-burchfield-1588462/",
      "_embedded": {
        "pw:venue": {
          "id": "7914",
          "name": "The Hamilton",
          "city": "Washington",
          "state": "DC",
          "timezone": "America/New_York",
          "enhanced_airport": false,
          "coordinates": [
            38.8976548,
            -77.0322736
          ]
        }
      }
    }
  ]
}
ðŸ” Found 1 airport results out of 6 total results

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should handle empty results gracefully
ðŸ“ Found venue: Buffalo Niagara International Airport with slug: /buffalo-niagara-international-airport-parking/
ðŸŒ Fetching HTML page: https://www.parkwhiz.com/buffalo-niagara-international-airport-parking/

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should handle different date ranges correctly
ðŸ“„ Cheap Airport Parking: Retrieved HTML response (67099 characters)
ðŸ“Š Cheap Airport Parking: Parsed 7 locations

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should handle empty results gracefully
JSON length: 170944
First 200 chars: {"meta":{"title":"Buffalo Niagara International Airport (BUF) Parking | ParkWhiz","description":"Buffalo Niagara International Airport parking shouldn't cost you more than your flight. Save money and 
Last 200 chars: ndTime":"2025-10-18T22:00:00.000Z","lat":42.936016,"lng":-78.731558,"parkingType":"Daily","postalCode":"14225","startTime":"2025-10-17T22:00:00.000Z","timezone":"America/New_York","mobileOnly":false}}
ðŸ“Š Extracted initial state with 2 locations

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should handle empty results gracefully
âœ… ParkWhiz Real: Retrieved 2 locations for BUR

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should handle empty results gracefully
âœ… parkwhiz: Found 0 locations

stdout | src/locationMatching/LocationMatchingService.integration.test.ts > LocationMatchingService - Integration Tests > findMatches - Real Integration > should handle empty results gracefully
BUR test: 0 locations, 0 matches

 âœ“ src/locationMatching/LocationMatchingService.integration.test.ts (4 tests) 18468ms
   âœ“ LocationMatchingService - Integration Tests > findMatches - Real Integration > should match locations with real ParkWhiz and SpotHero providers  13906ms
   âœ“ LocationMatchingService - Integration Tests > findMatches - Real Integration > should handle mixed real data gracefully  2119ms
   âœ“ LocationMatchingService - Integration Tests > findMatches - Real Integration > should generate matching reports with real data  1498ms
   âœ“ LocationMatchingService - Integration Tests > findMatches - Real Integration > should handle empty results gracefully  944ms
stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should handle different date ranges correctly
ðŸ“ Cheap Airport Parking: Fetching address details for 7 locations in batches of 5...
  ðŸ“¦ Processing batch 1/2 (5 locations)...

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should handle different date ranges correctly
  ðŸ“¦ Processing batch 2/2 (2 locations)...

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should handle different date ranges correctly
âœ… Cheap Airport Parking: Found 7 locations

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should handle different date ranges correctly

âœ… Short stay (1 day): 7 locations
âœ… Long stay (7 days): 7 locations

Pricing comparison:
  1-day stay: $26.95/day
  7-day stay: $23.19/day

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should handle amenities correctly
ðŸ” Cheap Airport Parking: Searching locations... { airport: 'ORD', dates: '2025-10-18T12:00:00 to 2025-10-22T12:00:00' }
ðŸŒ Cheap Airport Parking: Fetching from API: https://www.cheapairportparking.org/parking/find.php?airport=ORD&FromDate=10%2F18%2F2025&from_time=12&ToDate=10%2F22%2F2025&to_time=12

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should handle amenities correctly
ðŸ“„ Cheap Airport Parking: Retrieved HTML response (65376 characters)
ðŸ“Š Cheap Airport Parking: Parsed 7 locations

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should handle amenities correctly
ðŸ“ Cheap Airport Parking: Fetching address details for 7 locations in batches of 5...
  ðŸ“¦ Processing batch 1/2 (5 locations)...

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should handle amenities correctly
  ðŸ“¦ Processing batch 2/2 (2 locations)...

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should handle amenities correctly
âœ… Cheap Airport Parking: Found 7 locations

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should handle amenities correctly

âœ… Amenity breakdown for 7 locations:
  Shuttle service: 7
  Valet service: 3
  Covered parking: 3

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should provide valid availability information
ðŸ” Cheap Airport Parking: Searching locations... { airport: 'ORD', dates: '2025-10-18T12:00:00 to 2025-10-22T12:00:00' }
ðŸŒ Cheap Airport Parking: Fetching from API: https://www.cheapairportparking.org/parking/find.php?airport=ORD&FromDate=10%2F18%2F2025&from_time=12&ToDate=10%2F22%2F2025&to_time=12

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should provide valid availability information
ðŸ“„ Cheap Airport Parking: Retrieved HTML response (65376 characters)
ðŸ“Š Cheap Airport Parking: Parsed 7 locations

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should provide valid availability information
ðŸ“ Cheap Airport Parking: Fetching address details for 7 locations in batches of 5...
  ðŸ“¦ Processing batch 1/2 (5 locations)...

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should provide valid availability information
  ðŸ“¦ Processing batch 2/2 (2 locations)...

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should provide valid availability information
âœ… Cheap Airport Parking: Found 7 locations

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should provide valid availability information

âœ… Availability breakdown:
  Available: 7
  Unavailable: 0

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should extract review and rating information
ðŸ” Cheap Airport Parking: Searching locations... { airport: 'ORD', dates: '2025-10-18T12:00:00 to 2025-10-22T12:00:00' }
ðŸŒ Cheap Airport Parking: Fetching from API: https://www.cheapairportparking.org/parking/find.php?airport=ORD&FromDate=10%2F18%2F2025&from_time=12&ToDate=10%2F22%2F2025&to_time=12

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should extract review and rating information
ðŸ“„ Cheap Airport Parking: Retrieved HTML response (65376 characters)
ðŸ“Š Cheap Airport Parking: Parsed 7 locations

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should extract review and rating information
ðŸ“ Cheap Airport Parking: Fetching address details for 7 locations in batches of 5...
  ðŸ“¦ Processing batch 1/2 (5 locations)...

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should extract review and rating information
  ðŸ“¦ Processing batch 2/2 (2 locations)...

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should extract review and rating information
âœ… Cheap Airport Parking: Found 7 locations

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should extract review and rating information

âœ… Found 0 locations with ratings

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should parse parking types correctly
ðŸ” Cheap Airport Parking: Searching locations... { airport: 'ORD', dates: '2025-10-18T12:00:00 to 2025-10-22T12:00:00' }
ðŸŒ Cheap Airport Parking: Fetching from API: https://www.cheapairportparking.org/parking/find.php?airport=ORD&FromDate=10%2F18%2F2025&from_time=12&ToDate=10%2F22%2F2025&to_time=12

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should parse parking types correctly
ðŸ“„ Cheap Airport Parking: Retrieved HTML response (65376 characters)
ðŸ“Š Cheap Airport Parking: Parsed 7 locations

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should parse parking types correctly
ðŸ“ Cheap Airport Parking: Fetching address details for 7 locations in batches of 5...
  ðŸ“¦ Processing batch 1/2 (5 locations)...

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should parse parking types correctly
  ðŸ“¦ Processing batch 2/2 (2 locations)...

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should parse parking types correctly
âœ… Cheap Airport Parking: Found 7 locations

stdout | src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts > CheapAirportParkingProvider Integration Tests > searchLocations > should parse parking types correctly

âœ… Parking types found:
  Outdoor Self Parking: 1
  Indoor Self Parking: 1
  Indoor Valet: 1
  Self Parking: 1
  Uncovered Self: 1
  Outdoor Valet: 2

 âœ“ src/providers/cheapAirportParking/CheapAirportParkingProvider.integration.test.ts (7 tests) 29350ms
   âœ“ CheapAirportParkingProvider Integration Tests > searchLocations > should fetch and normalize real Cheap Airport Parking locations for ORD airport  2672ms
   âœ“ CheapAirportParkingProvider Integration Tests > searchLocations > should fetch and normalize real Cheap Airport Parking locations for LAX airport  13107ms
   âœ“ CheapAirportParkingProvider Integration Tests > searchLocations > should handle different date ranges correctly  4249ms
   âœ“ CheapAirportParkingProvider Integration Tests > searchLocations > should handle amenities correctly  2136ms
   âœ“ CheapAirportParkingProvider Integration Tests > searchLocations > should provide valid availability information  2619ms
   âœ“ CheapAirportParkingProvider Integration Tests > searchLocations > should extract review and rating information  2289ms
   âœ“ CheapAirportParkingProvider Integration Tests > searchLocations > should parse parking types correctly  2276ms

 Test Files  12 passed (12)
      Tests  79 passed (79)
   Start at  22:22:47
   Duration  29.90s (transform 1.08s, setup 0ms, collect 3.58s, tests 98.27s, environment 1ms, prepare 579ms)